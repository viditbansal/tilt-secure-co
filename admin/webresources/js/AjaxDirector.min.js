function addRow(e){var t=0,a=$(e).closest("tr"),i=0;if($(e).closest("table").find("tr").each(function(){var e=$(this).find("input").eq(0).val();""==e&&(i=1)}),0==i){var n=a.attr("clone"),o=$("#method").attr("tabindex"),l=a.clone(!0);l.insertAfter(a),n>=0&&(t=+n+1,l.attr("clone",t),l.find("input").val(""),l.find("select").val(0),l.find("textarea").text(""),a.find("a.add_new").attr("style","display:none"),settabindex(o))}else alert("Please fill the row to add new row")}function delRow(e){var t=$("#inputParam tr").length;if(t>2){var a=confirm("Are you sure to delete ?");if(a){var i=$(e).closest("tr"),n=$(e).closest("tr"),o=n.prev(),l=i.find("a.add_new").attr("style");"display:none"!=l&&o.find("a.add_new").show(),$(e).closest("tr").remove()}}else alert("Atleast one row is required")}function addProdRow(e){var t=0,a=$(e).closest("tr"),i=0,n=0;if($(e).closest("table").find("tr").each(function(){if(0!=n){var e=$(this).find("input.productId").eq(0).val(),t=$(this).find("input.product_name").eq(0).val(),a=$(this).find("textarea.product_desc").val(),o=$(this).find("input.product_price").val();""==e?i=1:""==t?i=1:""==a?i=1:(""==o||"0"==o)&&(i=1)}n++}),0==i){var o=a.attr("clone"),l=a.clone(!0);l.find(".error").remove(),l.insertAfter(a),o>=0&&(t=+o+1,l.attr("clone",t),l.find("input").val(""),l.find("input:checkbox").attr("checked",!1),l.find("input:checkbox").attr("onclick","setStatus(this,"+t+")"),l.find("input.prodStatusHidden").attr("id","hiddenStatus"+t),l.find("textarea").text(""),a.find("a.add_new").attr("style","display:none"))}else alert("Please fill the row to add new row")}function deleteProdRow(e){var t=$("#product_list tr").length;if(t>2){var a=confirm("Are you sure to delete ?");if(a){var i=$(e).closest("tr"),n=$(e).closest("tr"),o=n.prev(),l=i.find("a.add_new").attr("style");"display:none"!=l&&o.find("a.add_new").show(),$(e).closest("tr").remove()}}else alert("Atleast one row is required")}function showHideInputParam(){var e=$("#method").val();$(".jsonInput").hide(),"GET"==e||"POST"==e?($(".inputParamDefault").hide(),$(".inputParamMultiple").show(),$(".inputMethodParamMultiple").show()):($(".inputParamDefault").show(),$(".inputParamMultiple").hide(),$(".inputMethodParamMultiple").hide())}function showHideInputMethodParam(){$("#methodparam").is(":checked")?($(".inputParamMultiple").hide(),$(".jsonInput").show()):($(".jsonInput").hide(),$(".inputParamMultiple").show())}function gametype(){var e=$("#gametype").val();2==e?$("#elimination").show():$("#elimination").hide()}function entryfee(){$("#entryfee_free").val(),$("#entryfee_paid").val();$("#entryfee_free").attr("checked")?$("#entryfee").hide():$("#entryfee_paid").attr("checked")&&$("#entryfee").show()}function settabindex(e){$("#inputParam").find("tr").not(":eq(0)").each(function(){$(this).find("input").eq(0).attr("tabindex",e++),$(this).find("input").eq(1).attr("tabindex",e++),$(this).find("select").eq(0).attr("tabindex",e++),$(this).find("textarea").eq(0).attr("tabindex",e++),$("#output_param").attr("tabindex",e++),$("#Save,#Add").attr("tabindex",e++),$("#Back").attr("tabindex",e++)})}function ajaxAdminFileUploadProcess(e){var t='<span class="photo_load load_upimg"><img  src="'+path+'webresources/images/fetch_loader.gif" width="24" height="24" alt=""></span>';$(t).insertAfter($("#"+e+"_img")),$("#"+e+"_img").hide();var a=$("#empty_"+e).val();return $.ajaxFileUpload({url:actionPath+"models/DoAjaxAdminFileUpload.php",secureuri:!1,fileElementId:e,dataType:"json",data:{process:e},success:function(t){if("undefined"!=typeof t.error){if(""!=t.error)alert(t.error),""==$("#"+e+"_upload").val()&&$("#empty_"+e).val(a),$("#empty_"+e).val(a);else{""==a&&$("#empty_"+e).val(1);var i=t.msg.split("####");if("cover_photo"==e)var n='<img  src="'+path+"/webresources/uploads/temp/"+i[0]+"."+i[1]+"?rnd="+Math.random()+'" width="200" height="75" />\n                                        <input type="hidden" name="'+e+'_upload" id="'+e+'_upload" value="'+i[0]+"."+i[1]+'" />';else if("about_us"==e||"bg_image"==e||"video_image"==e)var n='<img  src="'+path+"/webresources/uploads/temp/"+i[0]+"."+i[1]+"?rnd="+Math.random()+'" width="75" height="75" />\n                            <input type="hidden" name="'+e+'_upload" id="'+e+'_upload" value="'+i[0]+"."+i[1]+'" /><input id="'+e+'_validate" type="hidden" value="'+i[0]+"."+i[1]+'" name="'+e+'_validate"> ';else var n='<img  src="'+path+"/webresources/uploads/temp/"+i[0]+"."+i[1]+"?rnd="+Math.random()+'" width="75" height="75" />\n                                        <input type="hidden" name="'+e+'_upload" id="'+e+'_upload" value="'+i[0]+"."+i[1]+'" />';e.match(/^custom_prize([0-9]+)$/)?$("#name_"+e).val(i[0]+"."+i[1]):e.match(/^user_image([0-9]+)$/)&&($("#temp_"+e).val(i[0]+"."+i[1]),$("#flag_"+e).val(1)),$("#"+e+"_img").html(n),$("#no_"+e).remove()}$(".photo_load").remove(),$("#"+e+"_img").show()}},error:function(e,t,a){alert(a)}}),!1}function ajaxVideoUploadProcess(e,t){var a='<span class="photo_load load_upimg" id="videoloaderdis"><img  src="'+path+'webresources/images/fetch_loader.gif" width="24" height="24" alt=""></span>';$(a).insertAfter($("#"+t+"_img")),$("#"+t+"_img").hide();var i=document.getElementById(t),n=i.files[0].type.split("/");return"video"==n[0]?(i.files[0].size>10485760?(alert("Video size should be less than 10 MB "),$("#videoloaderdis").remove()):$.ajaxFileUpload({url:actionPath+"models/DoAjaxAdminFileUpload.php?video=1",secureuri:!1,fileElementId:t,dataType:"json",data:{process:t},success:function(e){if("undefined"!=typeof e.error)if(""!=e.error)alert(e.error);else{var a=e.msg.split("####");if("promo_video"==t)var i='<input type="hidden" name="'+t+'_upload" id="'+t+'_upload" value="'+a[0]+"."+a[1]+'" /><input id="'+t+'_validate" type="hidden" value="'+a[0]+"."+a[1]+'" name="'+t+'_validate"> ';else var i='<input type="hidden" name="'+t+'_upload" id="'+t+'_upload" value="'+a[0]+"."+a[1]+'" />';$("#"+t+"_img").html(i),$("#videoloaderdis").remove()}},error:function(e,t,a){alert(a),$("#videoloaderdis").remove()}}),!1):(alert("Upload video files only"),$("#videoloaderdis").remove(),!1)}function uploadImageFile(e,t){$("#process_pram").html(e);var a=document.getElementById(t),i=a.files[0].type.split("/");"image"!=i[0]&&(alert("Upload only image files"),$("#"+t).val(""),$("#"+t).html("No file selected"))}function left_pannel(e){"nav nav-tabs nav-stacked slideArrow"==$("#"+e).attr("class")||"nav nav-tabs nav-stacked main-menu slideArrow"==$("#"+e).attr("class")?($("#"+e).attr("style","display:block;"),$("#"+e).toggleClass("slideArrow"),$("#"+e+"_span").removeClass("downarrowclass"),$("#"+e+"_span").addClass("upArrow")):($("#"+e).attr("style","display:none;"),$("#"+e).toggleClass("slideArrow"),$("#"+e+"_span").removeClass("upArrow"),$("#"+e+"_span").addClass("downarrowclass"))}function showaction(e){$("#userAction_"+e).css("display","block")}function hideaction(e){$("#userAction_"+e).css("display","none")}function validateinputparam(){var e=$(".inputParamMultiple").attr("style");if("display: none;"==e)return!0;var t=$("#method").val();if("GET"==t)return $("#field_name_empty").html(""),$("#sample_data_empty").html(""),!0;var a=$("#field_name").val(),i=$("#sample_data").val();return""==a&&""==i?($("#sample_data_empty").html("Sample Data is required"),$("#field_name_empty").html("Field Name is required"),!1):""==a?($("#field_name_empty").html("Field Name is required"),$("#sample_data_empty").html(""),!1):""==i?($("#sample_data_empty").html("Sample Data is required"),$("#field_name_empty").html(""),!1):($("#field_name_empty").html(""),$("#sample_data_empty").html(""),!0)}function isActionSelected(){var e=0,t=$("#bulk_action option:selected").text();return"Bulk Actions"==t?(alert("Select any action"),!1):($("input[name='checkedrecords[]']").each(function(){$(this).attr("checked")&&(e=1)}),0==e?(alert("Select atleast a single record"),!1):void 0)}function loadMessage(e,t){$("#filter_user_name").length&&$("#filter_user_name option[value="+e+"]").attr("selected",!0),$(".users").removeClass("sel"),$(".user_"+e).addClass("sel"),$(".loader").show(),$.ajax({type:"GET",url:actionPath+"/models/AjaxAction.php?action=LOAD_CONVERSATION",data:"FromUserId="+t+"&ToUserId="+e,success:function(e){$(".scroll").html(e),$(".scroll_content").animate({scrollTop:$(".scroll_content")[0].scrollHeight},800),$(".loader").hide()}})}function isNumberKey(e){var t=e.which?e.which:e.keyCode;return t>31&&(48>t||t>57)?!1:!0}function settingValidation(e){var t=e.which?e.which:event.keyCode;return t>31&&(48>t||t>57)?!1:!0}function countryShow(e){var t=$("#country_"+e+" option:selected").text();"United States"==t?($("#state_"+e).show(),$("#state_label_"+e).show()):($("#state_"+e).hide(),$("#state_label_"+e).hide())}function addCountry(e){tinyMCE.triggerSave();{var t=0,a=$(e).closest("tr"),i=0;a.attr("clone")}if($(e).closest("table").find("tr").each(function(){var e=$(this).find("textarea.tour_rules").eq(0).val();if(""==e&&(i=1),$(this).find("select.country")){var t=$(this).find("select.country option:selected").eq(0).text();if(""!=t&&"United States"==t){if($(this).find("select.state")){var a=$(this).find("select.state option:selected").eq(0).text();""!=a&&"Select"==a&&(i=3)}}else""!=t&&"Select"==t&&(i=2)}}),0==i){var n=a.attr("clone"),o=$("#method").attr("tabindex"),l=a.clone(!0);if(l.insertAfter(a),n>=0){{var r=$("#tour_rules_template").val();$("#gft_rules_template").val()}t=+n+1,l.attr("clone",t),l.find("input").val(""),l.find("select").val(0),l.find("select.country").attr("id","country_"+t),l.find("select.country").attr("onchange","countryShow("+t+")"),l.find("select.state").attr("id","state_"+t),l.find("select.state").attr("style","display:none;width:130px;"),l.find("span.slabel").attr("id","state_label_"+t),l.find("span.slabel").attr("style","display:none;"),l.find("td.terms_td").attr("id","terms_td_"+t),l.find("td.rules_td").attr("id","rules_td_"+t),document.getElementById("terms_td_"+t).innerHTML='<textarea id="terms_0" class="tour_rules terms" style="width:250px" rows="4" cols="45" tabindex="11" name="tournamentRules[]">'+r+"</textarea>",l.find("textarea.tour_rules").attr("id","terms_"+t),l.find("textarea.gft_rules").attr("id","rules_"+t),l.find("span.addNewRule").attr("id","new_"+t),$("#new_"+n).hide(),$("state_"+t).hide(),settabindex(o),testInit()}}else 2==i?alert("Please select country"):3==i?alert("Please select state"):1==i&&alert("Provide terms and conditions/rules")}function delCountry(e){var t=$("#inputParam tr").length,a=$(e).closest("tr");if(t>1){var i=confirm("Are you sure to delete ?");if(i){var n=$(e).closest("tr").attr("clone");if(n=parseInt($.trim(n)),"0"==n||""!=n){var o=$("#country_"+n+" :selected").val(),l=$("#country_"+n+" :selected").text();if("United States"==l){var r=$("#state_"+n+" :selected").val(),s="";if(s=$("#stateDeletedIds").val(),s=$.trim(s),""!=s){s=s+","+r;var d=s.split(","),c=[];$.each(d,function(e,t){-1===$.inArray(t,c)&&c.push(t)});for(var u="",p=0;p<c.length;p++)u+=c[p]+",";u=u.substring(0,u.length-1),$("#stateDeletedIds").val(u)}else $("#stateDeletedIds").val(r)}else{var s="";if(s=$("#countryDeletedIds").val(),s=$.trim(s),""!=s){s=s+","+o;var d=s.split(","),c=[];$.each(d,function(e,t){-1===$.inArray(t,c)&&c.push(t)});for(var u="",p=0;p<c.length;p++)u+=c[p]+",";u=u.substring(0,u.length-1),$("#countryDeletedIds").val(u)}else $("#countryDeletedIds").val(o)}}var m=$(e).closest("tr"),_=m.prev(),h=(a.attr("clone"),a.find("span.addNewRule").attr("style"));"display:none"!=h&&_.find("span.addNewRule").show(),$(e).closest("tr").remove()}}else alert("Atleast one row is required")}function decrement(e){var t=1,a=$("#"+e).val();""!=a&&a>t&&(a-=t,$("#"+e).val(a))}function increment(e){var t=1,a=$("#"+e).val();if(""!=a){var i=$("#"+e).attr("max");a="undefined"!=typeof i&&i!==!1?parseInt(a)<i?parseInt(a)+t:parseInt(a):parseInt(a)+t,$("#"+e).val(a)}else coin=t,$("#"+e).val(coin)}function remove_country(e,t){var a=0;$.post(actionPath+"models/AjaxAction.php?rand="+Math.random(),{action:"REMOVE_COUNTRY",countryId:e,restriction:t},function(){$(".rest_country"+e).remove(),$("#countries.res_countries > div[id]").each(function(){a++}),0==a&&$("#countries.res_countries").html(" - ")})}function remove_state(e,t,a){var i=0;$.post(actionPath+"models/AjaxAction.php?rand="+Math.random(),{action:"REMOVE_STATE",countryId:e,stateId:t,restriction:a},function(e){if("1"==$.trim(e)&&($(".rest_state"+t).remove(),$("#states.res_countries > div[id]").each(function(){i++}),0==i)){$("#states.res_countries").html(" - ");var a=0;$(".rest_country236").remove(),$("#countries.res_countries > div[id]").each(function(){a++}),0==a&&$("#countries.res_countries").html(" - ")}})}function retainValues(e){$.ajax({type:"POST",url:actionPath+"models/AjaxAction.php",data:"selid="+e+"&action=LOAD_TOURNAMENT_RULES_ALL",success:function(t){$("#inputParam1All").html(t),$.ajax({type:"POST",url:actionPath+"models/AjaxAction.php",data:"selid="+e+"&action=LOAD_TOURNAMENT_RULES",success:function(e){$("#inputParamCountry").html(e),$("#all_rules_title").show(),$("#all_rules_template").show(),$("#all_rules_countries").show(),$("#submit_buttons").show()}})}})}function addTerms(e){var t=$(e).closest("tr"),a=0;if($(e).closest("table").find("tr").each(function(){var e=$(this).find("textarea.term_content").eq(0).val();""==e&&(a=2);var t=$(this).find("input.term_title").eq(0).val();""==t&&(a=1)}),0==a){var i=t.clone(!0);i.find("input, textarea").val(""),i.insertAfter(t),$(".addNewRule").hide(),$(".addNewRule:last").show()}else 1==a?alert("Provide term title for all row"):2==a&&alert("Provide term content for all row")}function delTerms(e){{var t=$("tr.clone").length;$(e).closest("tr")}if(t>1){var a=confirm("Are you sure to delete ?");a&&$(e).closest("tr").remove(),$(".addNewRule").hide(),$(".addNewRule:last").show()}else alert("Atleast one row is required")}function addRule(e){var t=0,a=$(e).closest("tr"),i=0;if($(e).closest("table").find("tr.rule").each(function(){var e=$(this).find("input").eq(0).val(),t=$(this).find("input").eq(1).val();(""==$.trim(e)||""==$.trim(t))&&(i=1)}),0==i){var n=a.attr("clone"),o=a.clone(!0);o.insertAfter(a),n>=0&&(t=+n+1,o.attr("clone",t),o.find("input").val(""),$(".addrule").hide(),$(".addrule:last").show())}else alert("Please fill the Elimination Rule and HighScore Rule to add new row")}function delRule(e){var t=$(e).closest("table").find("tr").length,a=$(e).closest("tr");if(t>2){var i=confirm("Are you sure to delete ?");i&&($(e).closest("tr").remove(),$(".addrule").hide(),$(".addrule:last").show())}else a.find("input").each(function(){this.value=""})}function addImage(e){var t=0,a=$(e).closest("tr"),i=0;if($(e).closest("table").find("tr").each(function(){var e=$(this).find("input").eq(0).val(),t=$(this).attr("clone"),a=$("#oldgame_temp_file"+t).val();""!=e||"undefined"!=typeof a&&""!=a||(i=1)}),0==i){var n=a.attr("clone"),o=a.clone(!0);o.insertAfter(a),n>=0&&(t=+n+1,o.attr("clone",t),o.find("input").val(""),o.find("div[id=game_image"+n+"_img]").attr("id","game_image"+t+"_img"),o.find("div[id=game_image"+t+"_img]").html(""),o.find("input").eq(0).attr("id","game_image"+t),o.find("input").eq(0).attr("name","game_image"+t),o.find("input").eq(1).attr("id","game_temp_file"+t),$(".addimg").hide(),$(".addimg:last").show())}else alert("Please fill the row to add new row")}function delImage(e){{var t=$(e).closest("table").find("tr").length;$(e).closest("tr")}if(t>1){var a=confirm("Are you sure to delete ?");a&&($(e).closest("tr").remove(),$(".addimg").hide(),$(".addimg:last").show())}else alert("Atleast one row is required")}function addPolicy(e){var t=$(e).closest("tr"),a=0;if($(e).closest("table").find(".clone").each(function(){var e=$(this).find("textarea").val(),t=$(this).find(".input").eq(0).val();(""==e||""==t)&&(a=1)}),0==a){var i=t.clone(!0);i.find("input, textarea").val(""),i.insertAfter(t),$(".addNewRule").hide(),$(".addNewRule:last").show()}else alert("Please fill the row to add new row")}function delPolicy(e){{var t=$("tr.clone").length;$(e).closest("tr")}if(t>1){var a=confirm("Are you sure to delete ?");a&&$(e).closest("tr").remove(),$(".addNewRule").hide(),$(".addNewRule:last").show()}else alert("Atleast one row is required")}function ajaxCertificateUploadProcess(e,t){{var a=document.getElementById(t),i=(a.files[0].type.split("/"),e.split(".").pop());$("#empty_"+t).val()}return"p12"==i?($("#empty_"+t).val(1),$("#status_"+t).html("Uploaded"),$("#flag_"+t).val(1),$(".certificate_name").remove(),$("#status_"+t).removeClass("cert_inactive").addClass("cert_active"),!0):($("#flag_"+t).val(0),void alert("Upload p12 certificate files only"))}function tournament_blockdisp(e,t){$(".terms_cond").hide(),$(".game_rules").hide(),$(".tour_rules").hide(),$(".tour_privacy").hide(),$("."+e).show(),$("#termsandcond_link").removeClass("active"),$("#gamerules_link").removeClass("active"),$("#tourrules_link").removeClass("active"),$("#privacypolicy_link").removeClass("active"),$(t).addClass("active")}function addCountryRule(e){{var t=0,a=$(e).closest("tr"),i=0;a.attr("clone")}if($(e).closest("table").find("tr").each(function(){if($(this).find("select.country")){var e=$(this).find("select.country option:selected").eq(0).text();if(""!=e&&"United States"==e){if($(this).find("select.state")){var t=$(this).find("select.state option:selected").eq(0).text();""!=t&&"Select"==t&&(i=3)}}else""!=e&&"Select"==e&&(i=2)}}),0==i){var n=a.attr("clone"),o=a.clone(!0);if(o.insertAfter(a),tinyMCE.triggerSave(),n>=0){var l=$("#terms_cond_template").val(),r=$("#game_rules_template").val(),s=$("#tournament_rules_template").val(),d=$("#privacy_rules_template").val();t=+n+1,o.attr("clone",t),o.find("input").val(""),o.find("select").val(0),o.find("select.country").attr("id","country_"+t),o.find("select.country").attr("onchange","countryShow("+t+")"),o.find("select.state").attr("id","state_"+t),o.find("select.state").attr("style","display:none;width:150px;"),o.find("span.slabel").attr("id","state_label_"+t),o.find("span.slabel").attr("style","display:none;"),o.find("td.terms_td").attr("id","terms_td_"+t),o.find("td.rules_td").attr("id","rules_td_"+t),o.find("td.tournamentrules_td").attr("id","tournamentrules_td_"+t),o.find("td.privacypolicy_td").attr("id","privacypolicy_td_"+t),document.getElementById("rules_td_"+t).innerHTML='<textarea id="terms_condition_'+t+'" class="rules textEditor" style="width:250px" rows="4" cols="45" tabindex="11" name="tournamentRules[]">'+r+"</textarea>",document.getElementById("terms_td_"+t).innerHTML='<textarea id="game_rules_'+t+'" class="terms textEditor" style="width:250px" rows="4" cols="45" tabindex="11" name="tournamentConditions[]">'+l+"</textarea>",document.getElementById("tournamentrules_td_"+t).innerHTML='<textarea id="tournment_rules_'+t+'" class="tournamentrules textEditor" rows="4" cols="45" tabindex="11" name="thirdtournamentRules[]">'+s+"</textarea>",document.getElementById("privacypolicy_td_"+t).innerHTML='<textarea id="privacy_policy_'+t+'" class="privacy-policy textEditor" rows="4" cols="45" tabindex="11" name="privacy_policy_arr[]">'+d+"</textarea>",o.find("span.addNewRule").attr("id","new_"+t),$("#new_"+n).hide(),initEditor("terms_condition_"+t),initEditor("game_rules_"+t),initEditor("tournment_rules_"+t),initEditor("privacy_policy_"+t),$("state_"+t).hide()}}else 2==i?alert("Please select country"):3==i?alert("Please select state"):1==i&&alert("Provide terms and conditions/rules")}function delCountryRule(e){var t=$("#inputParam tr").length;console.log("----->"+$(e).closest("table tr").length);var a=$(e).closest("tr");if(console.log("-- count -->"+t),t>3){var i=confirm("Are you sure to delete ?");if(i){var n=$(e).closest("tr"),o=n.prev(),l=(a.attr("clone"),a.find("span.addNewRule").attr("style"));"display:none"!=l&&o.find("span.addNewRule").show(),$(e).closest("tr").remove()}}else alert("Atleast one row is required")}function initEditor(e){tinymce.init({height:"200",mode:"specific_textareas",selector:"textarea#"+e,statusbar:!1,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table contextmenu paste"],toolbar:"insertfile undo redo styleselect | bold italic  alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link "})}function bannerHideShow(){var e=$("#banner_type option:selected").val();""!=e&&"undefined"!=e?"1"==e?($(".banner_text_td").show(),$(".banner_image_td").hide()):"2"==e&&($(".banner_image_td").show(),$(".banner_text_td").hide()):($(".banner_text_td").hide(),$(".banner_image_td").hide())}function youtubeHideShow(){var e=$("#youtube_type option:selected").val();""!=e&&"undefined"!=e?($(".youtube_image_img").show(),"1"==e?($(".youtube_text_td").show(),$(".youtube_code_td").hide()):"2"==e&&($(".youtube_code_td").show(),$(".youtube_text_td").hide())):($(".youtube_image_img").hide(),$(".youtube_code_td").hide(),$(".youtube_text_td").hide())}function ajaxImageVideoUploadProcess(e,t){var a='<span class="photo_load load_upimg"><img  src="'+path+'webresources/images/fetch_loader.gif" width="24" height="24" alt=""></span>';$(a).insertAfter($("#"+t+"_img")),$("#"+t+"_img").hide();var i=document.getElementById(t),n=i.files[0].type.split("/");if("video"==n[0])return i.files[0].size>10485760?(alert("Video size should be less than 10 MB "),$(".photo_load").remove(),$("#"+t+"_img").show()):("banner_file"==t&&$("#submit").hide(),$.ajaxFileUpload({url:actionPath+"models/DoAjaxAdminFileUpload.php?video=1",secureuri:!1,fileElementId:t,dataType:"json",data:{process:t},success:function(e){if("undefined"!=typeof e.error){if(""!=e.error)alert(e.error),"banner_file"==t&&$("#submit").show();else{var a=e.msg.split("####"),i='<input type="hidden" name="'+t+'_upload" id="'+t+'_upload" value="'+a[0]+"."+a[1]+'" />';$("#"+t+"_img").html(i),"banner_file"==t&&$("#submit").show()}$(".photo_load").remove(),$("#"+t+"_img").show()}},error:function(e,a,i){alert(i),"banner_file"==t&&$("#submit").show()}})),!1;var o=$("#empty_"+t).val();return $.ajaxFileUpload({url:actionPath+"models/DoAjaxAdminFileUpload.php",secureuri:!1,fileElementId:t,dataType:"json",data:{process:t},success:function(e){if("undefined"!=typeof e.error){if(""!=e.error)alert(e.error),""==$("#"+t+"_upload").val()&&$("#empty_"+t).val(o),$("#empty_"+t).val(o);else{""==o&&$("#empty_"+t).val(1);var a=e.msg.split("####");if("cover_photo"==t)var i='<img  src="'+path+"/webresources/uploads/temp/"+a[0]+"."+a[1]+"?rnd="+Math.random()+'" width="200" height="75" />\n											<input type="hidden" name="'+t+'_upload" id="'+t+'_upload" value="'+a[0]+"."+a[1]+'" />';else if("coupon_file"!=t||"plain"!=a[1]&&"text"!=a[1])var i='<img  src="'+path+"/webresources/uploads/temp/"+a[0]+"."+a[1]+"?rnd="+Math.random()+'" width="75" height="75" />\n											<input type="hidden" name="'+t+'_upload" id="'+t+'_upload" value="'+a[0]+"."+a[1]+'" />';else var i='<input type="hidden" name="'+t+'_upload" id="'+t+'_upload" value="'+a[0]+"."+a[1]+'" />';$("#"+t+"_img").html(i),$("#no_"+t).remove()}$(".photo_load").remove(),$("#"+t+"_img").show()}},error:function(e,t,a){alert(a)}}),!1}function addPrizeRow(e){var t=0,a=$(e).closest("tr"),i=0,n=($(e).closest("table").attr("id"),"");if($(e).closest("table").find("tr").each(function(){var e=$(this).attr("clone");if(0!=e&&""==n){if(0==i){var t=$("#prize_title"+e).val();t&&""!=t||(n="#prize_title"+e,i=1)}0==i&&(prizeImage=$("#custom_prize"+e+"_upload").val(),prizeImage&&""!=prizeImage||(n="#custom_prize"+e,i=2)),0==i&&(prizeDesc=$("#custom_prizeDes"+e).val(),prizeDesc&&""!=prizeDesc||(n="#custom_prizeDes"+e,i=3))}}),0==i){var o=a.attr("clone"),l=a.clone(!0),r=0;if(4==$("#tournament_type").val()&&$("#maxplayer").val()<$("#custom_prizeTable tr").length&&(r=1),0==r){if(l.insertAfter(a),o>=0){t=+o+1,l.attr("clone",t),l.find("input").val(""),l.find("td.upload_td").html("");var s='<div id="custom_prize'+t+'_img" ></div><input type="file" class="upload w90" id="custom_prize'+t+'" name="custom_prize'+t+'" onchange="return ajaxAdminFileUploadProcess(\'custom_prize'+t+'\');"><input type="hidden" value="" id="name_custom_prize'+t+'" name="tempCustomPrize[]" class="prize_file_name w90"><input type="hidden" name="oldCustomPrize[]" value="">';l.find("td.upload_td").html(s),l.find("td input.prize_title").attr("id","prize_title"+t),l.find("td textarea.custom_description").attr("id","custom_prizeDes"+t),l.find("textarea").text(""),a.find("a.add_new").attr("style","display:none")}}else alert("Custom Prize cannot exceed Max. Players ")}else $(n).focus(),alert("Please fill the row to add new row")}function deletePrizeRow(e){var t=$(e).closest("table").attr("id"),a=$("#"+t+" tr").length;if(a>2){var i=confirm("Are you sure to delete ?");if(i){var n=$(e).closest("tr"),o=$(e).closest("tr"),l=o.prev(),r=n.find("a.add_new").attr("style");"display:none"!=r&&l.find("a.add_new").show(),$(e).closest("tr").remove()}}else alert("Atleast one row is required")}function locationShow(e,t){var a=$("#country_loc_"+e+" option:selected").text();if(1==t)"United States"==a?($("#state_loc_"+e).show(),$("#locationsearch_"+e).hide(),$("#locationsearch_"+e).val(""),$("#col_loc_"+e+"_3").show()):($("#locationsearch_"+e).hide(),$("#locationsearch_"+e).val(""),$("#state_loc_"+e).hide(),$("#state_loc_"+e).val(""),$("#col_loc_"+e+"_3").show()),st_loc_show=0,$("#RestrictedLocationContent").closest("table").find("tr.clone").each(function(){var e=$(this).find("select.country option:selected").eq(0).text();"United States"==e&&(st_loc_show=1)}),1==st_loc_show?$("#state_location").show():($("#state_location").hide(),$("#location_state").hide());else{var i=$("#state_loc_"+e+" option:selected").text(),n=i+","+a;$.ajax({type:"GET",url:actionPath+"models/AjaxAction.php?countryname="+n+"&action=COUNTRY",data:"",async:!1,success:function(t){""!=t&&(resultdata=t.split("###"),0!=resultdata[0]&&$("#latitude_"+e).val(resultdata[0].trim()),0!=resultdata[1]&&$("#longitude_"+e).val(resultdata[1].trim()),$("#temp_hidden_flag").val(0))}}),$("#locationsearch_"+e).show(),$("#locationsearch_"+e).val(""),st_loc_show=0,$("#RestrictedLocationContent").closest("table").find("tr.clone").each(function(){var e=$(this).find("select.country option:selected").eq(0).text();"United States"==e&&(st_loc_show=1)}),1==st_loc_show?($("#location_state").show(),$("#col_loc_"+e+"_4").show()):($("#location_state").hide(),$("#col_loc_"+e+"_4").hide())}}function manageLocation(e,t){if(1==t){var a=0,n=$("#location_clone").closest("tr"),o=0;if(curtotLoc=parseInt($("#totLoc").val()),$(e).closest("table").find("tr.clone").each(function(){var e=t=0,e=$(this).find("input").eq(2).val(),t=$(this).find("select.country option:selected").eq(0).text();if(""==e&&"United States"==t&&(o=1),$(this).find("select.country")){var t=$(this).find("select.country option:selected").eq(0).text();if(""!=t&&"United States"==t){if($(this).find("select.state")){var a=$(this).find("select.state option:selected").eq(0).text();""!=a&&"Select"==a&&(o=3)}}else""!=t&&"Select"==t&&(o=2)}}),0==o){var l=n.attr("clone"),r=($("#method").attr("tabindex"),n.clone(!0));r.find("input.locationsearch").each(function(){$(this).removeClass("ui-autocomplete-input valid"),$(this).removeAttr("style"),$(this).removeAttr("autocomplete")}),r.appendTo("#RestrictedLocationContent"),l>=0&&(a=curtotLoc+1,r.attr("clone",a),r.attr("style",""),r.attr("id","location_"+a),r.find("a.locplus").attr("id","plus_"+a),r.find("a.locminus").attr("id","minus_"+a),r.find("a.locminus").attr("style",""),r.find("select").val(0),r.find("select.country").attr("id","country_loc_"+a),r.find("select.country").attr("name","countryLocation[]"),r.find("select.country").attr("onchange","locationShow("+a+",'1')"),r.find("select.state").attr("id","state_loc_"+a),r.find("select.state").attr("name","stateLocation[]"),r.find("select.state").attr("onchange","locationShow("+a+",'2')"),r.find("select.state").attr("style","display:none;"),r.find("div.state").attr("id","col_loc_"+a+"_3"),r.find("div.location").attr("id","col_loc_"+a+"_4"),r.find("input.locationsearch").attr("id","locationsearch_"+a),r.find("input.locationsearch").attr("name","locationsearch[]"),r.find("input.locationsearch").attr("onkeypress","autoCompleteLocation("+a+")"),r.find("input.locationsearch").val(""),r.find("input.latitude").attr("id","latitude_"+a),r.find("input.latitude").attr("name","latitude[]"),r.find("input.latitude").val(""),r.find("input.longitude").attr("id","longitude_"+a),r.find("input.longitude").attr("name","longitude[]"),r.find("input.longitude").val(""),$("#col_loc_"+a+"_3").hide(),$("#col_loc_"+a+"_4").hide(),$("#plus_"+curtotLoc).hide(),$("#plus_"+l).hide(),$("#minus_"+curtotLoc).show(),$("#totLoc").val(a))}else 2==o?alert("Please select country"):3==o?alert("Please select state"):1==o&&alert("Please enter location")}else{var s=0;if($(e).closest("table").find("tr.clone").each(function(){s+=1}),2==s)return alert("Atleast one row is required"),!1;var n=$(e).closest("tr"),d=n.attr("clone");for(totLoc=parseInt($("#totLoc").val()),$("#location_"+d).remove(),i=totLoc;i>=1;i--)if($("#location_"+i).length){$("#plus_"+i).show(),$("#minus_"+i).show();break}st_loc_show=0,$("#location_clone").closest("table").find("tr.clone").each(function(){var e=$(this).find("select.country option:selected").eq(0).text();"United States"==e&&(st_loc_show=1)}),1==st_loc_show?($("#location_state").show(),$("#state_location").show()):($("#location_state").hide(),$("#state_location").hide())}}function autoCompleteLocation(e){$("#locationsearch_"+e).autocomplete({minLength:2,source:function(t,a){var i=$("#temp_hidden_flag").val();if(i&&0==i){var n=$("#latitude_"+e).val(),o=$("#longitude_"+e).val();$("#temp_hidden_lat").val(n),$("#temp_hidden_long").val(o)}else var n=$("#temp_hidden_lat").val(),o=$("#temp_hidden_long").val();var l=$("#locationsearch_"+e).val();if((""==$.trim(n)||""==$.trim(o))&&""==$.trim(l))return alert("latitude & longitude not valid"),!1;t.term;$("#locationsearch_id").val(e);var r=$("#locationsearch_"+e).val(),s=$("#country_loc_"+e+" option:selected").text();if(r.length>2){if($("#temp_hidden_flag").val(1),$("#state_loc_"+e).length){var d=$("#state_loc_"+e+" option:selected").text();d&&""!=d&&"Select"!=d&&(r=r+","+d)}r=r+","+s,$("#loading").show(),$.ajax({type:"GET",url:actionPath+"models/AjaxAction.php?countryname="+r+"&action=COUNTRY",data:"",async:!1,success:function(i){""!=i&&(resultdata=i.split("###"),0!=resultdata[0]&&$("#temp_hidden_lat").val(resultdata[0].trim()),0!=resultdata[1]&&$("#temp_hidden_long").val(resultdata[1].trim()));var n=$("#temp_hidden_lat").val(),o=$("#temp_hidden_long").val(),l=$("#locationsearch_"+e).val();$.getJSON(actionPath+"models/AjaxAction.php?curlat="+n+"&curlong="+o+"&location="+l+"&action=SEARCH_LOCATION&rand="+Math.random(),t,function(e){a(e),$("#loading").hide()})}})}},select:function(t,a){var i=a.item.id,n=a.item.label;$("#locationsearch_"+e).val(n);var o=i.split(",");$("#selected_lat").val(o[0]),$("#selected_lng").val(o[1]),$("#latitude_"+e).val(o[0]),$("#longitude_"+e).val(o[1]),$("#locationsearch_id").val("")}})}function dateField(e){var t=e.which?e.which:e.keyCode;return 8==t||46==t?!0:!1}function ajaxSdkUploadProcess(e,t){var a=document.getElementById(t),i=(a.files[0].type.split("/"),e.split(".").pop());if($("#"+t+"_img").html(""),"zip"==i){if(!(a.files[0].size>157286400))return $("#status_"+t).val(1),!0;alert("SDK size should be less than or equal to 150 MB "),$("#status_"+t).val(0)}else $("#status_"+t).val(0),alert("Please upload ZIP SDK file only")}function ajaxDocUploadProcess(e,t){var a=document.getElementById(t),i=(a.files[0].type.split("/"),e.split(".").pop());if($("#"+t+"_img").html(""),"doc"==i||"docx"==i){if(!(a.files[0].size>5242880))return $("#status_"+t).val(1),!0;alert("Document size should be less than or equal to 5 MB "),$("#status_"+t).val(0)}else $("#status_"+t).val(0),alert("Please upload DOC, DOCX document file only")}function isAlphaNumericDot(e){var t=e.which?e.which:e.keyCode,a=String.fromCharCode(t);
return/[a-zA-Z0-9-. ]/.test(a)?!0:!1}function timeField(e){var t=e.which?e.which:e.keyCode;return 58==t?!0:t>31&&(48>t||t>57)?!1:!0}function showLoader(){if($.browser.msie)var e=$('<div id="loading" style="display:none;"></div> ');else var e=$('<div id="loading" style="display:none;"></div> ');e.append('<i class="fa fa-spinner fa-spin fa-4x"></i>'),$("body").append(e),$("#loading").show()}function removeLoader(){$("#loading").remove()}function addUserImage(e){var t=0,a=$(e).closest("tr"),i=0;if($(e).closest("table").find("tr").each(function(){var e=$(this).find("input").eq(0).val(),t=$(this).attr("clone"),a=$("#olduser_temp_file"+t).val();""!=e||"undefined"!=typeof a&&""!=a||(i=1)}),0==i){var n=a.attr("clone"),o=a.clone(!0);o.insertAfter(a),n>=0&&(t=+n+1,o.attr("clone",t),o.find("input").val(""),o.find("div[id=user_image"+n+"_img]").attr("id","user_image"+t+"_img"),o.find("div[id=user_image"+t+"_img]").html(""),o.find("input").eq(0).attr("id","user_image"+t),o.find("input").eq(0).attr("name","user_image"+t),o.find("input").eq(1).attr("id","temp_user_image"+t),o.find("input").eq(4).attr("id","flag_user_image"+t),o.find("input").eq(4).val(""),$(".addimg").hide(),$(".addimg:last").show())}else alert("Please upload a image")}function delUserImage(e){{var t=$(e).closest("table").find("tr").length;$(e).closest("tr")}if(t>10){var a=confirm("Are you sure to delete ?");a&&($(e).closest("tr").remove(),$(".addimg").hide(),$(".addimg:last").show())}else alert("Atleast 10 image is required")}if("https:"==location.protocol)var protocolPath="https://";else var protocolPath="http://";if("172.21.4.104"==window.location.hostname)var path=protocolPath+"172.21.4.104/TiLTPortals/admin/",actionPath=protocolPath+"172.21.4.104/TiLTPortals/admin/";else var path=protocolPath+""+window.location.hostname+"/admin/",actionPath=protocolPath+""+window.location.hostname+"/admin/";$(document).ready(function(){var e=$("#method").attr("tabindex");settabindex(+e+1),showHideInputParam(),$("#admin_invites").hide(),$("#methodparam").is(":checked")&&($(".inputParamMultiple").hide(),$(".jsonInput").show()),$("#method").change(function(){showHideInputParam()}),$("#methodparam").change(function(){showHideInputMethodParam()}),gametype(),$("#entryfee").hide(),entryfee(),$("#gametype").change(function(){gametype()}),$("#entryfee_free").change(function(){entryfee()}),$("#entryfee_paid").change(function(){entryfee()})});