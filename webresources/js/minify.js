/* AjaxFileUpload.js */

jQuery.extend({createUploadIframe:function(e,t){var n="jUploadFrame"+e;var r='<iframe id="'+n+'" name="'+n+'" style="position:absolute; top:-9999px; left:-9999px"';if(window.ActiveXObject){if(typeof t=="boolean"){r+=' src="'+"javascript:false"+'"'}else if(typeof t=="string"){r+=' src="'+t+'"'}}r+=" />";jQuery(r).appendTo(document.body);return jQuery("#"+n).get(0)},createUploadForm:function(e,t,n){var r="jUploadForm"+e;var i="jUploadFile"+e;var s=jQuery('<form  action="" method="POST" name="'+r+'" id="'+r+'" enctype="multipart/form-data"></form>');if(n){for(var o in n){jQuery('<input type="hidden" name="'+o+'" value="'+n[o]+'" />').appendTo(s)}}var u=jQuery("#"+t);var a=jQuery(u).clone();jQuery(u).attr("id",i);jQuery(u).before(a);jQuery(u).appendTo(s);jQuery(s).css("position","absolute");jQuery(s).css("top","-1200px");jQuery(s).css("left","-1200px");jQuery(s).appendTo("body");return s},ajaxFileUpload:function(e){e=jQuery.extend({},jQuery.ajaxSettings,e);var t=(new Date).getTime();var n=jQuery.createUploadForm(t,e.fileElementId,typeof e.data=="undefined"?false:e.data);var r=jQuery.createUploadIframe(t,e.secureuri);var i="jUploadFrame"+t;var s="jUploadForm"+t;if(e.global&&!(jQuery.active++)){jQuery.event.trigger("ajaxStart")}var o=false;var u={};if(e.global)jQuery.event.trigger("ajaxSend",[u,e]);var a=function(t){var r=document.getElementById(i);try{if(r.contentWindow){u.responseText=r.contentWindow.document.body?r.contentWindow.document.body.innerHTML:null;u.responseXML=r.contentWindow.document.XMLDocument?r.contentWindow.document.XMLDocument:r.contentWindow.document}else if(r.contentDocument){u.responseText=r.contentDocument.document.body?r.contentDocument.document.body.innerHTML:null;u.responseXML=r.contentDocument.document.XMLDocument?r.contentDocument.document.XMLDocument:r.contentDocument.document}}catch(s){jQuery.handleError(e,u,null,s)}if(u||t=="timeout"){o=true;var a;try{a=t!="timeout"?"success":"error";if(a!="error"){var f=jQuery.uploadHttpData(u,e.dataType);if(e.success)e.success(f,a);if(e.global)jQuery.event.trigger("ajaxSuccess",[u,e])}else jQuery.handleError(e,u,a)}catch(s){a="error";jQuery.handleError(e,u,a,s)}if(e.global)jQuery.event.trigger("ajaxComplete",[u,e]);if(e.global&&!--jQuery.active)jQuery.event.trigger("ajaxStop");if(e.complete)e.complete(u,a);jQuery(r).unbind();setTimeout(function(){try{jQuery(r).remove();jQuery(n).remove()}catch(t){jQuery.handleError(e,u,null,t)}},100);u=null}};if(e.timeout>0){setTimeout(function(){if(!o)a("timeout")},e.timeout)}try{var n=jQuery("#"+s);jQuery(n).attr("action",e.url);jQuery(n).attr("method","POST");jQuery(n).attr("target",i);if(n.encoding){jQuery(n).attr("encoding","multipart/form-data")}else{jQuery(n).attr("enctype","multipart/form-data")}jQuery(n).submit()}catch(f){jQuery.handleError(e,u,null,f)}jQuery("#"+i).load(a);return{abort:function(){}}},uploadHttpData:function(r,type){var data=!type;data=type=="xml"||data?r.responseXML:r.responseText;if(type=="script")jQuery.globalEval(data);if(type=="json")eval("data = "+data);if(type=="html")jQuery("<div>").html(data).evalScripts();return data},handleError:function(e,t,n,r){if(e.error){e.error.call(e.context||window,t,n,r)}if(e.global){(e.context?jQuery(e.context):jQuery.event).trigger("ajaxError",[t,e,r])}}})
	
/* AjaxDirector.js */

function ajaxAdminFileUploadProcess(e){var t='<div class="fancybox-overlay fancybox-overlay-fixed photo_load load_upimg text-center" id="loader" style="display:block"> <div id="fancybox-loading"><div></div></div></div>';$(t).insertAfter($("#"+e+"_img")),$("#"+e+"_img").hide();{var i=$("#empty_"+e).val(),a=document.getElementById(e);a.files[0].type.split("/")}return a.files[0].size>5242880?(alert("File size should be less than 5 MB "),$("#loader").remove(),!1):($.ajaxFileUpload({url:actionPath+"models/DoAjaxAdminFileUpload.php",secureuri:!1,fileElementId:e,dataType:"json",data:{process:e},success:function(t){if("undefined"!=typeof t.error){if(""!=t.error)alert(t.error),""==$("#"+e+"_upload").val()&&$("#empty_"+e).val(i),$("#empty_"+e).val(i);else{""==i&&$("#empty_"+e).val(1);var a=t.msg.split("####");if("cover_photo"==e)var l='<img  src="'+path+"/webresources/uploads/temp/"+a[0]+"."+a[1]+"?rnd="+Math.random()+'" width="75" height="75" />\n                                        <input type="hidden" name="'+e+'_upload" id="'+e+'_upload" value="'+a[0]+"."+a[1]+'" />';else if("youtube_image"==e||"coupon_image"==e)var l='<img  src="'+path+"/webresources/uploads/temp/"+a[0]+"."+a[1]+"?rnd="+Math.random()+'" width="75" height="75" />\n                                        <input type="hidden" name="'+e+'_upload" id="'+e+'_upload" value="'+a[0]+"."+a[1]+'" />';else if("developer_photo"==e){var l='<img  src="'+path+"/webresources/uploads/temp/"+a[0]+"."+a[1]+"?rnd="+Math.random()+'" width="125" height="125" />\n                                        <input type="hidden" name="'+e+'_upload" id="'+e+'_upload" value="'+a[0]+"."+a[1]+'" />';$("#dev_img").html(""),$("#dev_img").html('<a href="'+path+"/webresources/uploads/temp/"+a[0]+"."+a[1]+"?rnd="+Math.random()+'" class="view fancybox"><i class="fa fa-search fa-lg"></i></a>')}else var l='<img  src="'+path+"/webresources/uploads/temp/"+a[0]+"."+a[1]+"?rnd="+Math.random()+'" width="75" height="75" />\n                                        <input type="hidden" name="'+e+'_upload" id="'+e+'_upload" value="'+a[0]+"."+a[1]+'" />';$("#"+e+"_img").html(l),$("#no_"+e).remove()}$(".photo_load").remove(),$("#"+e+"_img").show()}},error:function(e,t,i){alert(i)}}),!1)}function ajaxImageVideoUploadProcess(e,t){var i='<div class="fancybox-overlay fancybox-overlay-fixed photo_load load_upimg text-center" id="loader" style="display:block"> <div id="fancybox-loading"><div></div></div></div>';$(i).insertAfter($("#"+t+"_img")),$("#"+t+"_img").hide();var a=document.getElementById(t),l=a.files[0].type.split("/"),o=$("#empty_"+t).val();return"video"==l[0]?(a.files[0].size>10485760?(alert("Video size should be less than 10 MB "),$("#loader").remove()):$.ajaxFileUpload({url:actionPath+"models/DoAjaxAdminFileUpload.php?video=1",secureuri:!1,fileElementId:t,dataType:"json",data:{process:t},success:function(e){if("undefined"!=typeof e.error)if(""!=e.error)alert(e.error),$("#empty_"+t).val(o),$("#loader").remove();else{""==o&&$("#empty_"+t).val(1);var i=e.msg.split("####");if("banner_image"==t){var a=i[0]+"."+i[1]+'<input type="hidden" name="'+t+'_upload" id="'+t+'_upload" value="'+i[0]+"."+i[1]+'" />';$("#"+t+"_img").show(),$("#"+t+"_img").html(a),$("#loader").remove()}else{var i=e.msg.split("####"),a='<input type="hidden" name="'+t+'_upload" id="'+t+'_upload" value="'+i[0]+"."+i[1]+'" />';$("#"+t+"_img").html(a),$("#loader").remove()}}},error:function(e,t,i){alert(i),$("#loader").remove()}}),!1):(a.files[0].size>5242880?(alert("File size should be less than 5 MB "),$("#loader").remove()):$.ajaxFileUpload({url:actionPath+"models/DoAjaxAdminFileUpload.php",secureuri:!1,fileElementId:t,dataType:"json",data:{process:t},success:function(e){if("undefined"!=typeof e.error){if(""!=e.error)alert(e.error),""==$("#"+t+"_upload").val()&&$("#empty_"+t).val(o),$("#empty_"+t).val(o);else{""==o&&$("#empty_"+t).val(1);var i=e.msg.split("####");if("cover_photo"==t)var a='<img  src="'+path+"/webresources/uploads/temp/"+i[0]+"."+i[1]+"?rnd="+Math.random()+'" width="200" height="75" />\n											<input type="hidden" name="'+t+'_upload" id="'+t+'_upload" value="'+i[0]+"."+i[1]+'" />';else if("coupon_file"!=t||"plain"!=i[1]&&"text"!=i[1])var a='<img  src="'+path+"/webresources/uploads/temp/"+i[0]+"."+i[1]+"?rnd="+Math.random()+'" width="75" height="75" />\n											<input type="hidden" name="'+t+'_upload" id="'+t+'_upload" value="'+i[0]+"."+i[1]+'" />';else var a='<input type="hidden" name="'+t+'_upload" id="'+t+'_upload" value="'+i[0]+"."+i[1]+'" />';$("#"+t+"_img").html(a),$("#no_"+t).remove()}$(".photo_load").remove(),$("#"+t+"_img").show(),$("#loader").remove()}},error:function(e,t,i){alert(i),$("#loader").remove()}}),!1)}function uploadImageFile(e,t){$("#process_pram").html(e);var i=document.getElementById(t),a=i.files[0].type.split("/");"image"!=a[0]&&(alert("Upload only image files"),$("#"+t).val(""),$("#"+t).html("No file selected"))}function isNumberKey(e){var t=e.which?e.which:e.keyCode;return t>31&&(48>t||t>57)?!1:!0}function settingValidation(e){var t=e.which?e.which:event.keyCode;return t>31&&(48>t||t>57)?!1:!0}function selectGame(e,t,i){if(t){var a=$("#game_rental_"+t).val();$("#game_id_"+t).prop("checked",!0),a&&$("#rental").val(a)}if(i){var l=$("#game_playTime_"+i).val();$("#play_time").val(l)}$("ul#game_list li").each(function(){$(this).attr("class","inactive")}),$(e).closest("li").attr("class","active"),$("#game_block").removeClass("game_required")}function selectGameWidth(e){var t=0;$("ul#"+e+" li").each(function(){var e=$(this),i=e.outerWidth();t+=i}),$("#"+e).attr("style","width:"+t+"px")}function setStripeCoins(e){$("#dev_tilt_coins").html(e)}function youtubeHideShow(){var e=$("#youtube_type option:selected").val();""!=e&&"undefined"!=e?($(".youtube_image_img").show(),"1"==e?($("#youtube_text").show(),$("#youtube_code").hide()):"2"==e&&($("#youtube_code").show(),$("#youtube_text").hide())):($(".youtube_image_img").hide(),$("#youtube_code").hide(),$("#youtube_text").hide())}function bannerHideShow(){var e=$("#banner_type option:selected").val();""!=e&&"undefined"!=e?"1"==e?($("#banner_text_div").show(),$("#banner_image_div").hide()):"2"==e&&($("#banner_image_div").show(),$("#banner_text_div").hide()):($("#banner_image_div").hide(),$("#banner_text_div").hide())}function addRow(e){var t=0,i=$(e).closest("tr"),a=0,l=($(e).closest("table").attr("id"),"");if($(e).closest("table").find("tr").each(function(){var e=$(this).attr("clone");if(0!=e&&""==l){if(0==a){var t=$("#prize_title"+e).val();t&&""!=t||(l="#prize_title"+e,a=1)}0==a&&(prizeImage=$("#custom_prizeImage"+e+"_upload").val(),prizeImage&&""!=prizeImage||(l="#custom_prizeImage"+e,a=2)),0==a&&(prizeDesc=$("#custom_prizeDes"+e).val(),prizeDesc&&""!=prizeDesc||(l="#custom_prizeDes"+e,a=3))}}),0==a){var o=i.attr("clone"),n=i.clone(!0);if(n.insertAfter(i),o>=0){t=+o+1,n.attr("clone",t),n.find("input").val(""),n.find("td.upload_td").html("");var r='<div id="custom_prizeImage'+t+'_img" ></div><div class="btn btn-file btn-gray ">Select file <input type="file" class="upload w90" id="custom_prizeImage'+t+'" name="custom_prizeImage'+t+'" onchange="return ajaxAdminFileUploadProcess(\'custom_prizeImage'+t+'\');"></div><input type="hidden" value="" id="prize_tempFile'+t+'" name="prize_tempFile[]" class="prize_tempFile w90"><input type="Hidden" name="empty_custom_prizeImage'+t+'" id="empty_custom_prizeImage'+t+'" required="required" value="" /><input type="hidden" id="old_prize'+t+'" name="old_prize_file[]" value="">';n.find("td.upload_td").html(r),n.find("td input.prize_title").attr("id","prize_title"+t),n.find("td textarea.custom_description").attr("id","custom_prizeDes"+t),n.find("textarea").text(""),i.find("a.add_new").attr("style","display:none")}}else $(l).focus(),alert("Please fill the row to add new row")}function deleteRow(e){var t=$(e).closest("table").attr("id"),i=$("#"+t+" tr").length;if(i>2){var a=confirm("Are you sure to delete ?");if(a){var l=$(e).closest("tr"),o=$(e).closest("tr"),n=o.prev(),r=l.find("a.add_new").attr("style");"display:none"!=r&&n.find("a.add_new").show(),$(e).closest("tr").remove()}}else alert("Atleast one row is required")}function addRule(e){var t=0,i=$(e).closest("div").parent(),a=0;if($(e).closest("div[clone]").parent().find("div[clone]").each(function(){var e=$(this).find("input").eq(0).val(),t=$(this).find("input").eq(1).val();(""==$.trim(e)||""==$.trim(t))&&(a=1)}),0==a){var l=i.attr("clone"),o=i.clone(!0);o.insertAfter(i),l>=0&&(t=+l+1,o.attr("clone",t),o.find("input").eq(0).attr("id","elimination_rule_"+t),o.find("input").eq(1).attr("id","highscore_rule_"+t),o.find("input").val(""),$(".addrule").hide(),$(".addrule:last").show())}else alert("Please fill the Elimination Rule and HighScore Rule to add new row")}function delRule(e){var t=$("div #gamerule").length,i=$(e).closest("div").parent();if(t>1){var a=confirm("Are you sure to delete ?");a&&($(e).closest("div").parent().remove(),$(".addrule").hide(),$(".addrule:last").show())}else i.find("input").each(function(){this.value=""})}function addPrizeRow(e,t){var i=0,a=$(e).closest("#"+t),l=a.attr("clone"),o=0,n="";if($("#prize_custom div.base").each(function(){var e=$(this).attr("clone");if(""==n){if(0==o){var t=$("#prize_title"+e).val();t&&""!=t||(n="#prize_title"+e,o=1)}0==o&&(prizeImage=$("#custom_prizeImage"+e+"_upload").val(),prizeImage&&""!=prizeImage||(n="#custom_prizeImage"+e,o=2)),0==o&&(prizeDesc=$("#custom_prizeDes"+e).val(),prizeDesc&&""!=prizeDesc||(n="#custom_prizeDes"+e,o=3))}}),$("#elimination").is(":checked")&&(o=0==o&&"1"==$("#prize_custom .base").length?4:5),0==o){var i=$("#prize_custom div").length,l=a.attr("clone"),r=a.clone(!0);if($("#max_player").val()>$("#prize_custom .base").length){if(r.insertAfter(a),i>=0){i=+l+1,r.attr("id","custom_prizeRow"+i),r.attr("clone",i),r.find("input").val(""),r.find("textarea").text(""),r.find("input.prize_title").attr("id","prize_title"+i),r.find("div.display_img").html(""),r.find("div.display_img").attr("id","custom_prizeImage"+i+"_img"),r.find("div.upload_img").html("");var d='Select file <input type="file" required name="custom_prizeImage'+i+'" id="custom_prizeImage'+i+'" title="prize image" onchange="return ajaxAdminFileUploadProcess(\'custom_prizeImage'+i+"');\"  />";r.find("div.upload_img").html(d),r.find("input.prize_tempFile").attr("id","prize_tempFile"+i),r.find("textarea.custom_prizeDes").attr("id","custom_prizeDes"+i),r.find("div.clone_action").html("");var s="<a onclick=\"deletePrizeRow(this,'custom_prizeRow"+i+'\')" href="javascript:void(0)"><i class="fa fa-lg text-red  fa-minus-circle"></i></a>&nbsp;&nbsp;<a id="new_code_0" class="add_new" onclick="addPrizeRow(this,\'custom_prizeRow'+i+'\')" href="javascript:void(0)"><i class="fa text-green fa-lg fa-plus-circle"></i></a>';r.find("div.clone_action").html(s),a.find("a.add_new").attr("style","display:none")}}else alert("Custom Prize cannot exceed  Max number of players")}else"4"==o?alert("Custom Prize Tournament with elimination one prize only allowed"):($(n).focus(),alert("Please fill the row to add new row"))}function deletePrizeRow(e,t){var i=$("#prize_custom div.base").length;if(i>1){var a=confirm("Are you sure to delete ?");if(a){var l=$(e).closest("#"+t),o=l.prev(),n=l.find("a.add_new").attr("style");"display:none"!=n&&o.find("a.add_new").show(),l.remove()}}else alert("Atleast one row is required")}function addImage(e){var t=0,i=$(e).closest("div.row"),a=0;if($("div #imagerow").each(function(){var e=$(this).attr("clone"),t=$("#game_image"+e+"_upload").val(),i=$("#oldgame_temp_file"+e).val();"undefined"!=typeof t&&""!=t||"undefined"!=typeof i&&""!=i||(a=1)}),0==a){var l=i.attr("clone"),o=i.clone(!0);if(o.insertAfter(i),l>=0){t=+l+1,o.attr("clone",t),o.find("input").val("");var n="<div class='col-xs-12 no-padding' style='text-align: left'><div class='col-md-6 col-sm-6'><div class='btn btn-file btn-gray '>Select File<input type='file'  name='game_image"+t+"' id='game_image"+t+"' title='Select File' value='' onchange='return ajaxAdminFileUploadProcess(this.id);' /></div><p class='help-block'>(Minimum dimension 100x100)</p></div><div class='col-md-3 col-sm-3' id='game_image"+t+"_img'></div><div class='col-md-2 no-padding pull-right text-right'><a href='javascript:void(0);' onclick='delImage(this);' ><i class='fa fa-lg text-red  fa-minus-circle'></i></a>&nbsp;&nbsp;<a href='javascript:void(0);' onclick='addImage(this);' class='addimg'><i class='fa text-green fa-lg fa-plus-circle'></i></a></div><input type='hidden' value='' name='game_temp_file[]'  id='game_temp_file"+t+"'><input type='hidden' value='' name='oldgame_temp_file[]'  id='oldgame_temp_file"+t+"'><input type='Hidden' value='' id='image_id' name = 'image_id[]' ></div><div class='col-sm-3' id='action0'></div>";o.html(n),$(".addimg").hide(),$(".addimg:last").show()}}else alert("Please fill the row to add new row")}function delImage(e){var t=$("div #imagerow").length;if(t>1){var i=confirm("Are you sure to delete ?");if(i){var a=$(e).closest("div.row");a.remove(),$(".addimg").hide(),$(".addimg:last").show()}}else alert("Atleast one row is required")}function ajaxCertificateUploadProcess(e,t){{var i=document.getElementById(t),a=(i.files[0].type.split("/"),e.split(".").pop());$("#empty_"+t).val()}return"p12"==a?($("#empty_"+t).val(1),$("#status_"+t).html("Uploaded"),$("#flag_"+t).val(1),$("#name_"+t).html(e),$("#status_"+t).removeClass("cert_inactive").addClass("cert_active"),!0):($("#flag_"+t).val(0),void alert("Upload p12 certificate files only"))}function gameDetails(e,t){t&&$.ajax({url:actionPath+"models/AjaxAction.php?rand="+Math.random(),type:"POST",data:{action:"GAME_DETAILS",gameId:t},success:function(e){e=$.trim(e),"NO RESULT"!=$.trim(e)&&$("#game_description").html(e)}}),$("ul#game_list li").each(function(){$(this).attr("class","inactive")}),$(e).closest("li").attr("class","active"),$("#game_block").removeClass("game_required")}function addCountryRule(e){{var t=0,i=$(e).closest("div.rulerow"),a=0;i.attr("clone")}if($(e).closest("div.Ruleslist").find("div.rulerow").each(function(){if($(this).find("select.country")){var e=$(this).find("select.country option:selected").eq(0).text();if(""!=e&&"United States"==e){if($(this).find("select.state")){var t=$(this).find("select.state option:selected").eq(0).text();""!=t&&"Select"==t&&(a=3)}}else""!=e&&"Select"==e&&(a=2)}}),0==a){var l=i.attr("clone"),o=i.clone(!0);if(o.insertAfter(i),tinyMCE.triggerSave(),l>=0){var n=$("#terms_cond_template").val(),r=$("#game_rules_template").val(),d=$("#tournament_rules_template").val(),s=$("#privacy_rules_template").val();t=+l+1,o.attr("clone",t),o.find("input").val(""),o.find("select").val(0),o.find("select.country").attr("id","country_"+t),o.find("select.country").attr("onchange","countryShow("+t+")"),o.find("select.state").attr("id","state_"+t),o.find("select.state").attr("style","display:none;"),o.find("span.slabel").attr("id","state_label_"+t),o.find("span.slabel").attr("style","display:none;float:left;"),o.find("div.terms_td").attr("id","terms_td_"+t),o.find("div.rules_td").attr("id","rules_td_"+t),o.find("div.tournamentrules_td").attr("id","tournamentrules_td_"+t),o.find("div.privacypolicy_td").attr("id","privacypolicy_td_"+t),document.getElementById("rules_td_"+t).innerHTML='<textarea id="terms_condition_'+t+'" class="rules textEditor" style="width:250px" rows="4" cols="45" tabindex="11" name="tournamentRules[]">'+r+"</textarea>",document.getElementById("terms_td_"+t).innerHTML='<textarea id="game_rules_'+t+'" class="terms textEditor" style="width:250px" rows="4" cols="45" tabindex="11" name="tournamentConditions[]">'+n+"</textarea>",document.getElementById("tournamentrules_td_"+t).innerHTML='<textarea id="tournment_rules_'+t+'" class="tournamentrules textEditor" rows="4" cols="45" tabindex="11" name="thirdtournamentRules[]">'+d+"</textarea>",document.getElementById("privacypolicy_td_"+t).innerHTML='<textarea id="privacy_policy_'+t+'" class="privacy-policy textEditor" rows="4" cols="45" tabindex="11" name="privacy_policy_arr[]">'+s+"</textarea>",initEditor("terms_condition_"+t),initEditor("game_rules_"+t),initEditor("tournment_rules_"+t),initEditor("privacy_policy_"+t),$("state_"+t).hide()}}else 2==a?alert("Please select country"):3==a?alert("Please select state"):1==a&&alert("Provide terms and conditions/rules");$(".addNewRule").hide(),$(".addNewRule:last").show()}function countryShow(e){var t=$("#country_"+e+" option:selected").text();"United States"==t?($("#state_"+e).show(),$("#state_label_"+e).show()):($("#state_"+e).hide(),$("#state_label_"+e).hide())}function delCountryRule(e){{var t=$("div.rulerow").length;$(e).closest("tr")}if(t>1){var i=confirm("Are you sure to delete ?");i&&($(e).closest("div.rulerow").remove(),$(".addNewRule").hide(),$(".addNewRule:last").show())}else alert("Atleast one row is required")}function initEditor(e){tinymce.init({height:"200",mode:"specific_textareas",selector:"textarea#"+e,statusbar:!1,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table contextmenu paste"],toolbar:"insertfile undo redo styleselect | bold italic  alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link "})}function tournament_blockdisp(e,t){$(".terms_cond").hide(),$(".game_rules").hide(),$(".tour_rules").hide(),$(".tour_privacy").hide(),$("."+e).show(),$("#termsandcond_link").removeClass("active"),$("#gamerules_link").removeClass("active"),$("#tourrules_link").removeClass("active"),$("#privacypolicy_link").removeClass("active"),$(t).addClass("active")}function addLevel(e){var t=0,i=$(e).closest("div").parent(),a=0;if($(e).closest("div[clone]").parent().find("div[clone]").each(function(){var e=$(this).find("input").eq(0).val(),t=$(this).find("input").eq(1).val();(""==$.trim(e)||""==$.trim(t))&&(a=1)}),0==a){var l=i.attr("clone"),o=i.clone(!0);o.insertAfter(i),l>=0&&(t=+l+1,o.attr("clone",t),o.find("input").eq(0).attr("id","game_level_"+t),o.find("input").eq(1).attr("id","game_difficulty_"+t),o.find("input").val(""),$(".addlevel").hide(),$(".addlevel:last").show())}else alert("Please fill all data to add new row")}function delLevel(e){var t=$("div #gamelevel").length,i=$(e).closest("div").parent();if(t>1){var a=confirm("Are you sure to delete ?");a&&($(e).closest("div").parent().remove(),$(".addlevel").hide(),$(".addlevel:last").show())}else i.find("input").each(function(){this.value=""})}function passwordlength(e){var t=$("#"+e).val();return t&&t.length>0&&t.length<5?!1:!0}function dateField(e){var t=e.which?e.which:e.keyCode;return 8==t||46==t?!0:!1}function timeField(e){var t=e.which?e.which:e.keyCode;return 58==t?!0:t>31&&(48>t||t>57)?!1:!0}function setPrize(){var e=$("input[name=entry_type]:checked").val();if(e&&2==e){var t=parseInt($("#max_player").val()),i=parseInt($("#entry_fee").val());if(t&&t>0&&i&&i>0){var a=0,l=$("input[name=prize_type]:checked").val();if("2"==l||"3"==l||"4"==l){var o="";if("3"==l){var n=parseInt($("#vcoin_max").val()),r=parseInt($("#old_prize_vcoin").val());a=t*i,n+=r,o="You don't have enough Virtual Coins to create tournament, You have only "+addCommas(n)+" Virtual Coins"}else{var n=parseInt($("#tilt_max").val()),r=parseInt($("#old_prize_coin").val());"0"==r?"4"==l?(a=t*i,$("#tilt_default_fee_flag").val(0)):(a=t*i+parseInt($("#tilt_default_fee").val()),$("#tilt_default_fee_flag").val(1)):(a=t*i,$("#tilt_default_fee_flag").val(0)),n+=r,o="You don't have enough TiLT$ to create tournament, You have only "+addCommas(n)+" TiLT$"}a>n?alert(o):"4"!=l&&$("#prize_coin").val(t*i)}}}}function addCommas(e){if($.isNumeric(e)){e+="",x=e.split("."),x1=x[0],x2=x.length>1?"."+x[1]:"";for(var t=/(\d+)(\d{3})/;t.test(x1);)x1=x1.replace(t,"$1,$2");return x1+x2}return 0}function passwordMinLength(e){var t=$("#"+e).val();t&&""!=t?(t=$.trim(t),document.getElementById(e).setCustomValidity(0!=t.length?t.length<6?"Password should have atleast 6 characters":t.length>20?"Password can have maximum 20 characters":"":"White space is not allowed")):document.getElementById(e).setCustomValidity("")}function checkUserName(e){var t=$("#"+e).val();document.getElementById(e).setCustomValidity(t.match(/\s/)?"User Name should not contain white space":"")}function addImagePopup(e){var t=0,i=$(e).closest("div.row"),a=0;if($("div #imagerow").each(function(){var e=$(this).attr("clone"),t=$("#game_image"+e+"_upload").val(),i=$("#oldgame_temp_file"+e).val();"undefined"!=typeof t&&""!=t||"undefined"!=typeof i&&""!=i||(a=1)}),0==a){var l=i.attr("clone"),o=i.clone(!0);if(o.insertAfter(i),l>=0){t=+l+1,o.attr("clone",t),o.find("input").val("");var n="<div class='col-xs-12 no-padding' style='text-align: left'><div class='col-xs-6'><div class='btn btn-file btn-gray '>Select File<input type='file'  name='game_image"+t+"' id='game_image"+t+"' title='Select File' value='' onchange='return ajaxAdminFileUploadProcess(this.id);' /></div><p class='help-block'>(Minimum dimension 100x100)</p></div><div class='col-xs-3' id='game_image"+t+"_img'></div><div class='no-padding pull-right'><a href='javascript:void(0);' onclick='delImage(this);' ><i class='fa fa-lg text-red  fa-minus-circle'></i></a>&nbsp;&nbsp;<a href='javascript:void(0);' onclick='addImagePopup(this);' class='addimg'><i class='fa text-green fa-lg fa-plus-circle'></i></a></div><input type='hidden' value='' name='game_temp_file[]'  id='game_temp_file"+t+"'><input type='hidden' value='' name='oldgame_temp_file[]'  id='oldgame_temp_file"+t+"'><input type='Hidden' value='' id='image_id' name = 'image_id[]' ></div><div class='col-sm-3' id='action0'></div>";o.html(n),$(".addimg").hide(),$(".addimg:last").show()}}else alert("Please fill the row to add new row")}function setShare(e,t){var i=$("#"+t).val();0==i?($("#"+t).val(1),$(e).removeClass("share_inactive").addClass("share_active")):1==i&&($(e).removeClass("share_active").addClass("share_inactive"),$("#"+t).val(0))}function showLoader(){if($.browser.msie)var e=$('<div class="fancybox-overlay fancybox-overlay-fixed photo_load load_upimg text-center" id="loader" style="display:block"> <div id="fancybox-loading"><div></div></div></div>');else var e=$('<div class="fancybox-overlay fancybox-overlay-fixed photo_load load_upimg text-center" id="loader" style="display:block"> <div id="fancybox-loading"><div></div></div></div> ');e.append(""),$("body").append(e),$("#loader").show()}function removeLoader(){$("#loader").remove()}function redirectToEdit(e){removeLoader(),window.location.href=actionPath+"TournamentManage?editId="+e}function facebookShare(e,t){FB.login(function(i){i.authResponse?FB.ui({method:"feed",name:tout_name,link:actionPath,picture:$logo_path,caption:"Post by MGC-TiLT",description:t},function(i){i&&i.post_id?1==e?shareTwitterPost(t):setTimeout(function(){$(".success_msg").fadeOut(1e3)},6e3):1==e?shareTwitterPost(t):setTimeout(function(){$(".success_msg").fadeOut(1e3)},6e3)}):1==e?shareTwitterPost(t):setTimeout(function(){$(".success_msg").fadeOut(1e3)},6e3)})}function shareTwitterPost(e){window.open(actionPath+"includes/login-twitter.php?Content="+e,"Twitter","status = 1, left = 430, top = 270, height = 350, width = 620, resizable = 0,scrollbars=1");setTimeout(function(){$(".success_msg").fadeOut(1e3)},1e4)}function isFloatNumber(e,t){var i=e.which?e.which:e.keyCode?e.keyCode:0,a=$(t).val();return 46==i&&a.match(/\./)?!1:8==i||46==i||37==i||9==i||13==i?!0:48>i||i>57||39==i?!1:!0}if("https:"==location.protocol)var protocolPath="https://";else var protocolPath="http://";if("172.21.4.104"==window.location.hostname)var path=protocolPath+"172.21.4.104/MGC/",actionPath=protocolPath+"172.21.4.104/MGC/";else var path=protocolPath+""+window.location.hostname+"/",actionPath=protocolPath+""+window.location.hostname+"/";$(document).ready(function(){}),$("#entry_fee").live("change",function(){var e=$("input[name=entry_type]:checked").val();e&&2==e&&setPrize("#entry_fee")}),$("#max_player").live("change",function(){var e=$("input[name=entry_type]:checked").val();e&&2==e&&setPrize("#max_player")}),$("body").ajaxStart(function(){showLoader()}).ajaxStop(function(){removeLoader()});

/* Util.js */

function clearTextFocus(e){if($.trim(e.defaultValue)==$.trim(e.value))e.value=""}function clearTextBlur(e){if($.trim(e.value)=="")e.value=e.defaultValue}function fieldfocus(e){if(document.getElementById(e)){document.getElementById(e).focus()}}function hideDomElement(e){$.each(e,function(){container=this+"_container";$("#"+container).hide()})}function updateTips(e,t){var n=t+"_container";$("#"+t).html(e);$("#"+n).show();$("#errorFlag").val(1)}function checkRadioButton(e,t,n,r,i,s){if(!e.is(":checked")&&!t.is(":checked")&&!n.is(":checked")&&!r.is(":checked")){updateTips(i,s);return false}else{return true}}function checkBlank(e,t,n){if($.trim($(e).val())==""){e.addClass("ui-state-error");updateTips(t+" is required.",n);return false}else{return true}}function isNumberKey_Qty(e){var t=e.which?e.which:e.keyCode?e.keyCode:0;if(t==8||t==32||t==46||t==47||t==37||t==39||t==9){var n=$("#qty").val();if(n.indexOf(".")!==-1&&(t==46||t==47||t==32)){return false}if(n.indexOf("/")!==-1&&(t==46||t==47||t==32)){return false}if(n.indexOf(" ")!==-1&&(t==46||t==32)){return false}return true}if(t<48||t>57)return false;return true}function isNumberKey_Qty_check(e){var t=e.which?e.which:e.keyCode?e.keyCode:0;if(t==8||t==32||t==46||t==47||t==37||t==39||t==9){var n=$("#qty").val();if(n.search("/")){shash=1}if(n.search(".")){dot=1}if(t==47&&dot==1&&shash==0){return false}else if(t==47&&dot==0&&shash==1){return false}if(t==46&&(shash==1||dot==1)){return false}return true}if(t<48||t>57)return false;return true}function isNumberKey_Phone(e){var t=e.which?e.which:e.keyCode?e.keyCode:0;if(t==8||t==46||t==37||t==39||t==9||t==13)return true;if(t<48||t>57)return false;return true}function isNumberKey_minus(e){var t=e.which?e.which:e.keyCode?e.keyCode:0;if(t==8||t==9||t==13||t==45)return true;if(t<48||t>57)return false;return true}function isNumberKey_Enter(e){var t=e.which?e.which:e.keyCode?e.keyCode:0;if(t==8||t==46||t==37||t==39||t==9||t==13)return true;if(t<48||t>57)return false;return true}function isNumberKey_digit(e,t){var n=t.which?t.which:t.keyCode?t.keyCode:0,r=["max_level","current_level"];if(e.id!=="undefined"&&r.indexOf(e.id)!=-1&&t.key==".")return false;if(n==8||n==46||n==37||n==39||n==9)return true;if(n<48||n>57)return false;return true}function checkRegexp(e,t,n,r){if(!t.test($.trim(e.val()))){e.addClass("ui-state-error");updateTips(n,r);return false}else{return true}}function showTips(e,t){$("#"+t).html('<span style="color:red">'+e+"</span>");$("#errorFlag").val(1)}function usernameexp(e,t,n,r){if(t.test(e.val())){return true}else{e.addClass("ui-state-error");updateTips(n,r);return false}}function checkLength(e,t,n,r,i){if(checkBlank(e,t,i)){var s="";var o=e.val().length;if(n!=0&&r!=0&&(o>r||o<n))s="Length of "+t+" must be between "+n+" to "+r+".";else if(n!=0&&r==0&&o<n){s="Length of "+t+" must be minimum "+n+" letters."}else if(n==0&&r!=0&&o>r){s="Length of "+t+" must be maximum "+r+" letters."}if(s!=0){e.addClass("ui-state-error");updateTips(s,i);return false}return true}}function compareElements(e,t,n,r){if($.trim($(e).val())!=$.trim($(t).val())){t.addClass("ui-state-error");updateTips(n,r);return false}else{return true}}function clearText(e){if(e.defaultValue==e.value){e.value="";e.style.color="#000000"}else if(e.value==""){e.style.color="#888888";e.value=e.defaultValue}}function encode(e){var t=((parseInt(e)+5)*101).toString(16);return t}function decode(e){var t=parseInt(e,16)/101-5;return t}function check(e){$("#checklist").hide();$("#unchecklist").hide();var t=document.getElementById(e);if(t.titlecheckbox.checked){checkAll(e);$("#checklist").hide();$("#unchecklist").show()}else{uncheckAll(e);$("#checklist").show();$("#unchecklist").hide()}}function isInteger(e){var t;for(t=0;t<e.length;t++){var n=e.charAt(t);if(n<"0"||n>"9")return false}return true}function stripCharsInBag(e,t){var n;var r="";for(n=0;n<e.length;n++){var i=e.charAt(n);if(t.indexOf(i)==-1)r+=i}return r}function daysInFebruary(e){return e%4==0&&(!(e%100==0)||e%400==0)?29:28}function DaysArray(e){for(var t=1;t<=e;t++){this[t]=31;if(t==4||t==6||t==9||t==11){this[t]=30}if(t==2){this[t]=29}}return this}function checkDateFormat(e,t,n){if(checkBlank(e,t,n)==false)return false;var r=$.trim($(e).val());var i=DaysArray(12);var s=r.indexOf(dtCh);var o=r.indexOf(dtCh,s+1);var u=r.substring(0,s);var a=r.substring(s+1,o);var f=r.substring(o+1);strYr=f;if(a.charAt(0)=="0"&&a.length>1)a=a.substring(1);if(u.charAt(0)=="0"&&u.length>1)u=u.substring(1);for(var l=1;l<=3;l++){if(strYr.charAt(0)=="0"&&strYr.length>1)strYr=strYr.substring(1)}month=parseInt(u);day=parseInt(a);year=parseInt(strYr);if(s==-1||o==-1){e.addClass("ui-state-error");updateTips("The date format should be : mm/dd/yyyy",n);return false}if(u.length<1||month<1||month>12){e.addClass("ui-state-error");updateTips("Please enter a valid month",n);return false}if(a.length<1||day<1||day>31||month==2&&day>daysInFebruary(year)||day>i[month]){e.addClass("ui-state-error");updateTips("Please enter a valid day",n);return false}if(f.length!=4||year==0||year<minYear||year>maxYear){e.addClass("ui-state-error");updateTips("Please enter a valid 4 digit year between "+minYear+" and "+maxYear,n);return false}if(r.indexOf(dtCh,o+1)!=-1||isInteger(stripCharsInBag(r,dtCh))==false){e.addClass("ui-state-error");updateTips("Please enter a valid date",n);return false}return true}function showTooltip(e,t){var n=$("map_tooltip");n.innerHTML=t;var r=getWindowAnchor(e,n);n.style.left=r.x+"px";n.style.top=r.y+"px";Element.show(n);if(!e._tooltipHider){google.maps.event.addListener(e,"mouseout",function(){hideTooltip()});google.maps.event.addListener(e,"mousedown",function(){hideTooltip()});e._tooltipHider=true}}function hideTooltip(){Element.hide($("map_tooltip"))}function showInfoWindow(e,t){hideTooltip();var n=$("map_info_window");var r=$("map_info_window_content");var i=$("map_info_window_close");r.innerHTML=t;n.style.opacity=0;Element.show(n);var s=getWindowAnchor(e,r);n.style.opacity=null;n.style.left=s.x+"px";n.style.top=s.y+"px"}function updateInfoWindow(e){$("map_info_window_content").innerHTML=e}function hideInfoWindow(){Element.hide($("map_info_window"))}function getWindowAnchor(e,t){var n=5;var r=googleMaps._dummyOverlay.getProjection();var i=r.fromLatLngToDivPixel(e.getPosition());var s=new google.maps.LatLng(googleMaps.getBounds().getNorthEast().lat(),googleMaps.getBounds().getSouthWest().lng());var o=r.fromLatLngToDivPixel(s);var u=0;var a=0;var f;if(f=e.getIcon&&e.getIcon()){u=(new google.maps.Point(16,16)).x+n;a=(new google.maps.Point(16,16)).y}var l=Position.cumulativeOffset(googleMaps.getDiv())[0]+i.x-o.x+u;var c=Position.cumulativeOffset(googleMaps.getDiv())[1]+i.y-o.y+a;if(l+Element.getDimensions(t).width>=(window.innerWidth||document.documentElement.clientWidth)){l=l-Element.getDimensions(t).width-2*u}return{x:l,y:c}}function showdiv(e){$("#"+e).show()}function getElementsByName_iefix(e,t){var n=document.getElementsByTagName(e);var r=new Array;for(i=0,iarr=0;i<n.length;i++){att=n[i].getAttribute("name");if(att==t){r[iarr]=n[i];iarr++}}return r}function change_user_type(e){if(e==1||e=="")$("#city_comp_name").hide();else $("#city_comp_name").show()}function setMaxlength_textarea(e,t,n,r){var i=$("#"+n).val();var s=$("#"+n).val().length;var o=i.substr(0,t);var u=parseInt(t)-s;if(u<=0){u=0;$("#"+r).html("You have "+u+" chararcter left.")}else if(u>0){$("#"+r).html("You have "+u+" chararcters left.")}if($("#"+n).val().length>t)$("#"+n).val(o)}function EncryptString(e,n){n=str_split(str_pad("",strlen(e),n));sa=str_split(e);for(var r in sa){t=ord(sa[r])+ord(n[r]);sa[r]=chr(t>255?t-256:t)}return escape(join("",sa))}function Event_Cancel(e){if(!e)var e=window.event;e.cancelBubble=true;if(e.stopPropagation)e.stopPropagation()}function addNew_row(){var e=$("#new_row").html();var t=1;count=$(".insert_row").size();$('<div id="insert_time_'+count+'" class="insert_row" style="clear:both;">'+e+"</div>").appendTo("#insert_time");$(" input[name='from_time[]']").each(function(){if(this.id!=""){this.id="fromtime_"+t;t++}});var t=1;$(" input[name='to_time[]']").each(function(){if(this.id!=""){this.id="totime_"+t;t++}})}function delete_row(e,t){if(t!=""){if(confirm("Are you sure to delete?")){deleteOpenHours(t);$("#"+e).remove()}}else $("#"+e).remove();var n=1;$(".insert_row").each(function(){if(this.id!=""&&this.id!="insert_time"){this.id="insert_time_"+n;n++}});var r=$(".insert_row").size();if(r==1){var i=$("#new_row").html();$('<div id="insert_time_'+r+'" class="insert_row" style="clear:both;">'+i+"</div>").appendTo("#insert_time")}}function getTimeSlider(e){var t=$("#"+e).val();$("#div_timer").remove();$("<div id='div_timer' class='timer_tip' onmouseover='Event_Cancel(event);'><img src='WebResources/images/loading.gif' align='absmiddle' /></div>").load(encodeURI("timeSlider?textId="+e+"&textValue="+t)).insertAfter("#"+e)}function getTimeSliderAdmin(e){var t=$("#"+e).val();$("#div_timer").remove();$("<div id='div_timer' class='timer_tip' onmouseover='Event_Cancel(event);'><img src='../WebResources/images/loading.gif' align='absmiddle' /></div>").load(encodeURI("timeSlider.php?textId="+e+"&textValue="+t)).insertAfter("#"+e)}function ajaxFileUpload(e){$("#loading").ajaxStart(function(){$(this).show()}).ajaxComplete(function(){$(this).hide()});$.ajaxFileUpload({url:"Models/doajaxfileupload.php?fname="+e,secureuri:false,fileElementId:e,dataType:"json",success:function(e,t){if(typeof e.error!="undefined"){if(e.error!=""){alert(e.error)}else{var n="WebResources/images/temp/"+e.msg;$(".change_new_Image").attr("src",n)}}},error:function(e,t,n){alert(n)}});return false}function replaceImage(){var e=$("#hid_image_doctor").val();if(e!=""){var t="WebResources/images/doctor_images/"+e;$(".change_new_Image").attr("src",t)}}function changeSearchClass(){$("#show_advance_search").slideToggle("slow");if($("#change_aClass").hasClass("close"))$("#change_aClass").removeClass("close").addClass("adv_search");else $("#change_aClass").removeClass("adv_search").addClass("close")}function searchCheck(e){var t=$("#"+e).attr("alt");var n,r,i;if($("#"+e).attr("class")=="search_check"){$("#"+e).attr("src",actionPath+"WebResources/images/icons/uncheck.png").attr("title","Check");$("#"+e).removeClass("search_check").addClass("search_uncheck");if($("#searchContent_"+t).length)$("#searchContent_"+t).remove()}else{$("#"+e).attr("src",actionPath+"WebResources/images/icons/check.png").attr("title","Uncheck");$("#"+e).removeClass("search_uncheck").addClass("search_check");n=$("#"+e).next("img").attr("title");if(t==2||t==3)i="button_blue L";else i="button_blue";$("#search_content").append('<div id="searchContent_'+t+'" class="button"><span class="text">'+n+"</span><span onclick=\"searchCheck('"+e+'\');" class="close_tx" title="close">&nbsp;</span></div>')}$("#search_fields").val("");$(".search_check").each(function(e){var t=$(this).attr("alt");if(e==0)$("#search_fields").val(t);else $("#search_fields").val($("#search_fields").val()+"###"+t)})}function retainOriginalValue(e,t){$("#"+e+" ."+t).each(function(t){$("#"+e+" select").removeClass("error");var n=$(this).attr("id");if(e=="edit_personal_form"&&$(this).attr("id")==undefined)n="doctor_title";else if(e=="edit_location_form"&&$(this).attr("id")==undefined)n="state";else if(e=="edit_practice_detail"&&$(this).attr("id")==undefined){if(t==1)n="speciality";else if(t==4)n="bulk_bill"}$("#"+n).val($(this).attr("rel"))})}function change_specialist_value(e){$("#search_speciality").val(e);var t=$("#specialist_value_"+e).html();$("#change_select_search").html(t);$("#specialist_value").slideToggle("fast")}function autoComplete(e){$("#"+e).autocomplete({source:function(e,t){$.ajax({url:actionPath+"Models/AjaxActions.php?auto_complete=1&term="+e.term,dataType:"json",beforeSend:function(){$("#loader_ajax").show()},success:function(e,n){$("#loader_ajax").hide();t($.map(e,function(e){return e.locality+","+e.post_code}))}})},delay:0,open:function(e,t){oldTop=jQuery(".ui-autocomplete").offset().top;newTop=oldTop+9;jQuery(".ui-autocomplete").css("top",newTop)},select:function(e,t){$("#search_map").val(1)}})}function showAlertDialog(e){$("#dialog:ui-dialog").dialog("destroy");$("#"+e).dialog({resizable:false,modal:true,buttons:{Ok:function(){$(this).dialog("close")}}})}function show_hideDiv(e,t,n){$("#"+t).slideToggle();$("#"+e).fadeOut("200");$("#"+n).fadeIn("200")}function hide_showDiv(e,t,n){$("#"+t).slideToggle();$("#"+e).fadeIn("200");$("#"+n).fadeOut("200")}function show_image_tool(e,t){$("div#"+e).show();$("a#"+t).mouseenter(function(t){x=0;y=0;$(this).css("z-index","15").children("div#"+e).css({top:y+10,left:x+20,display:"block"})}).mouseleave(function(){$("div#"+e).hide();$(this).css("z-index","1").children("div#"+e).animate({opacity:"hide"},"fast")})}function bookmark(){title=document.title;url=document.location.href;if(window.sidebar){window.sidebar.addPanel(title,url,"")}else if(document.all){window.external.AddFavorite(url,title)}else showAlertDialog("bookmark_popup")}function limitChars(e,t,n,r){var i=document.getElementById(e);var s=i.value.replace(/\s+$/g,"");var o=s.length;var u=r.which?r.which:r.keyCode?r.keyCode:0;if(o>t){$("#"+e).val(s.substr(0,t));return false}else{var a=o+"/"+t;$("#"+n).removeClass("error");$("#"+n).html(a);return true}}function hideDiv(e){$("#"+e).hide()}function showDiv(e){$("#"+e).show()}function openDropdownMenu(e){$(".option_ddl").hide();if($("#"+e).is(":hidden")){$(".option").hide();if($("#"+e).html()=="")$("#"+e).hide();else $("#"+e).show()}else $("#"+e).hide()}function cancelEvent(e){if(window.event)window.event.cancelBubble=true;else e.cancelBubble=true}function paginationOptions(){$("#perpage_options").show()}function setPagingValue(e){$("#perpage_val").html("Show "+e+" / page");setPerPage(e)}function alertDialog(e){$("div.dialogMsg").remove();var t=$('<div class="dialogMsg" style="display:none;">'+e+"</div>");$("body").append($(t));$("#dialog:ui-dialog").dialog("destroy");$(t).dialog({resizable:false,modal:true,buttons:{Ok:function(){$(this).dialog("close")}}})}function exportExcelSubmit(e){$("#"+e).append('<input type="hidden" name="export-excel" value="1" />');$("#"+e).submit()}function nl2br(e,t){var n=t||typeof t==="undefined"?"":"<br>";return(e+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+n+"$2")}function openCarrierDropDown(){if($(".carrier-list").is(":hidden")){$(".carrier-list").addClass("open");$(".carrier-list").show()}else{$(".carrier-list").removeClass("open");$(".carrier-list").hide()}}function setCarrierValue(e){$("#ship_carrier").val(e);if(e=="")e="Choose carrier";$(".selected-text").html(e);openCarrierDropDown()}function searchDish(e){var t=e.which?e.which:e.keyCode?e.keyCode:0;if(t==13){document.getElementById("search_form").submit();return true}}function setSocialHidden(e){var t=$(e).attr("title");if($(e).hasClass("gray_but")){$(e).removeClass("gray_but");if($.trim(t)=="Facebook"){$("#fb_hidden").val(1);$(e).addClass("blue_but")}else{$("#twitter_hidden").val(1);$(e).addClass("twit_blue_but")}}else{$(e).addClass("gray_but");$(e).removeClass("blue_but");$(e).removeClass("twit_blue_but");if($.trim(t)=="Facebook"){$("#fb_hidden").val(0)}else{$("#twitter_hidden").val(0)}}}function facebookScriptConnect(e){var t;window.fbAsyncInit=function(){FB.init({appId:e,status:true,cookie:true,xfbml:true,oauth:true})};(function(){var e=document.createElement("script");e.async=true;e.src=document.location.protocol+"//connect.facebook.net/en_US/all.js";document.getElementById("fb-root").appendChild(e)})()}function postToFacebook(){function e(e){if(e.authResponse){postFB()}else{FB.login(function(e){if(e.authResponse){postFB()}else{var t=parseInt($("#twitter_hidden").val());if(t){postToTwitter()}else{$("#post_count").val(1);$("#upload_form").submit()}}},{scope:"email,user_birthday,status_update,publish_stream,user_about_me"})}}FB.getLoginStatus(e)}function postFB(){var e={};var t="Dish Name:"+$("#dishName").val()+"\r\n";if($("#caption").val()!=""){t=t+"Caption:"+$("#caption").val()+"\r\n"}t=t+"Dish URL:"+actionPath+$("#dish_url").val();var n="";if(window.location.hostname!="172.21.4.100"){var n="http://cookoo.s3.amazonaws.com/dish/"+$("#dish_image_name").val()}else{n="http://d33lfq67o08fmx.cloudfront.net/dish/800_1370317281.jpeg"}var r=$("#dishName").val();var i=$("#caption").val();var s=actionPath+$("#dish_url").val();var o={message:t,picture:n,name:r,caption:"http://www.cookoo.co/",link:"http://www.cookoo.co/"};FB.api("/me/feed","post",o,function(e){if(!e||e.error){alert("Opps some error occurs!")}else{}var t=parseInt($("#twitter_hidden").val());if(t){postToTwitter()}else{$("#post_count").val(1);$("#upload_form").submit()}})}function postToTwitter(){var e="Dish Name:"+$("#dishName").val()+"\r\n";if($("#caption").val()!=""){e=e+"Caption:"+$("#caption").val()+"\r\n"}e=e+"Dish URL:"+actionPath+$("#dish_url").val();twttr.ready(function(e){e.events.bind("tweet",function(e){alert("testing")})});window.open("https://twitter.com/intent/tweet?text="+e,"Twitter","status = 1, left = 430, top = 270, height = 350, width = 420, resizable = 0,scrollbars=1");$("#post_count").val(1);$("#upload_form").submit()}function isAlphaNumberKey(e){e=e||window.event;var t=e.which||e.keyCode;var n=String.fromCharCode(t);if(/[a-zA-Z0-9_]/i.test(n)){return true}else if(e.keyCode==8||e.keyCode==46||e.keyCode==37||e.keyCode==39||e.keyCode==9){return true}else{return false}}function isAlphaNumberKey_Space(e){e=e||window.event;var t=e.which||e.keyCode;var n=String.fromCharCode(t);if(/[a-zA-Z0-9_]/i.test(n)){return true}else if(e.keyCode==8||e.keyCode==46||e.keyCode==37||e.keyCode==39&&e.which==0||e.keyCode==9||t==32){return true}else{return false}}function isNumberKey_Hashtag(e){var t=e.which?e.which:e.keyCode?e.keyCode:0;e=e||window.event;var n=e.which||e.keyCode;var r=String.fromCharCode(n);if(/[a-zA-Z0-9&!_]/i.test(r)){return true}else if(t==8||t==39||t==9)return true;else return false}function isNumberKey_Goal(e){var t=e.which?e.which:e.keyCode?e.keyCode:0;e=e||window.event;var n=e.which||e.keyCode;var r=String.fromCharCode(n);if(/[a-zA-Z0-9&!_]/i.test(r)){return true}else if(t==8||t==39||t==9)return true;else return false}function checkAllDelete(e){var t=false;var n=document.getElementById(e);if(n.checkAll.checked==true)t=true;else t=false;$("input[name='checkdelete[]']").each(function(){if($(this).attr("disabled")!="disabled"){$(this).attr("checked",t)}})}function checkAllRecords(e){var t=false;var n=document.getElementById(e);if(n.checkAll.checked==true)t=true;else t=false;$("input[name='checkedrecords[]']").each(function(){if($(this).attr("disabled")!="disabled"){$(this).attr("checked",t)}})}function isCalender(e){var t=e.which?e.which:e.keyCode?e.keyCode:0;if(t>=0)return false}function isDelete(e){var t=e.keyCode||e.charCode;if(t==8||t==46)return false}if("https:"==location.protocol)var protocolPath="https://";else var protocolPath="http://";if(window.location.hostname=="172.21.4.104"){var path=protocolPath+"172.21.4.104/MGC/game/";var actionPath=protocolPath+"172.21.4.104/MGC/game/"}else{var path=protocolPath+""+window.location.hostname+'/';var actionPath=protocolPath+""+window.location.hostname+'/';}var shash=0;var dot=0;setPerPage=function(e){$("#per_page").val(e);$("#cur_page").val(1);$("#paging").submit()};setPagingControlValues=function(e,t,n){$("#order_by").val(e);$("#order_type").val(t);$("#cur_page").val(n);$("input[name=paging_change]").each(function(){$(this).val("")});$("#paging").submit()};setPerPageAjax=function(e){$("#per_page").val(e);$("#cur_page").val(1)};setPagingControlValuesAjax=function(e,t,n){$("#order_by").val(e);$("#order_type").val(t);$("#cur_page").val(n);$("input[name=paging_change]").each(function(){$(this).val("")})};setPagingControlValues2=function(e){$("#cur_page").val(e);$("#paging").submit()};checkAll=function(e){var t=document.getElementById(e);for(var n=0;n<t.elements.length;n++){if(t.elements[n].name.indexOf("[]")>0)t.elements[n].checked=true}if(t.titlecheckbox)t.titlecheckbox.checked=true};uncheckAll=function(e){var t=document.getElementById(e);for(var n=0;n<t.elements.length;n++){if(t.elements[n].name.indexOf("[]")>0)t.elements[n].checked=false}if(t.titlecheckbox)t.titlecheckbox.checked=false};linkcheck=function(e,t){$("#checklist").hide();$("#unchecklist").hide();var n=document.getElementById(e);if(t=="1"){checkAll(e);$("#checklist").hide();$("#unchecklist").show()}if(t=="0"){uncheckAll(e);$("#checklist").show();$("#unchecklist").hide()}};confirmDelete=function(e){flag=0;if(e.row_id.length>1){for(var t=0;t<e.row_id.length;t++){if(e.row_id[t].checked){flag=1;break}}}else if(e.row_id.checked){flag=1}if(flag==0){alert("Please select atleast a record to proceed with deletion");return false}if(flag==1)if(confirm("Are you sure to delete?"))e.submit()};var dtCh="/";var minYear=1900;var maxYear=2100;var dateFormat=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g,r=function(e,t){e=String(e);t=t||2;while(e.length<t)e="0"+e;return e};return function(i,s,o){var u=dateFormat;if(arguments.length==1&&Object.prototype.toString.call(i)=="[object String]"&&!/\d/.test(i)){s=i;i=undefined}i=i?new Date(i):new Date;if(isNaN(i))throw SyntaxError("invalid date");s=String(u.masks[s]||s||u.masks["default"]);if(s.slice(0,4)=="UTC:"){s=s.slice(4);o=true}var a=o?"getUTC":"get",f=i[a+"Date"](),l=i[a+"Day"](),c=i[a+"Month"](),h=i[a+"FullYear"](),p=i[a+"Hours"](),d=i[a+"Minutes"](),v=i[a+"Seconds"](),m=i[a+"Milliseconds"](),g=o?0:i.getTimezoneOffset(),y={d:f,dd:r(f),ddd:u.i18n.dayNames[l],dddd:u.i18n.dayNames[l+7],m:c+1,mm:r(c+1),mmm:u.i18n.monthNames[c],mmmm:u.i18n.monthNames[c+12],yy:String(h).slice(2),yyyy:h,h:p%12||12,hh:r(p%12||12),H:p,HH:r(p),M:d,MM:r(d),s:v,ss:r(v),l:r(m,3),L:r(m>99?Math.round(m/10):m),t:p<12?"a":"p",tt:p<12?"am":"pm",T:p<12?"A":"P",TT:p<12?"AM":"PM",Z:o?"UTC":(String(i).match(t)||[""]).pop().replace(n,""),o:(g>0?"-":"+")+r(Math.floor(Math.abs(g)/60)*100+Math.abs(g)%60,4),S:["th","st","nd","rd"][f%10>3?0:(f%100-f%10!=10)*f%10]};return s.replace(e,function(e){return e in y?y[e]:e.slice(1,e.length-1)})}}();dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};Date.prototype.format=function(e,t){return dateFormat(this,e,t)};confirmDelete=function(e){flag=0;if(e.row_id.length>1){for(var t=0;t<e.row_id.length;t++){if(e.row_id[t].checked){flag=1;break}}}else if(e.row_id.checked){flag=1}if(flag==0){alert("Please select atleast a record to proceed with deletion");return false}if(flag==1)if(confirm("Are you sure to delete?"))e.submit()};eval(function(e,t,n,r,i,s){i=function(e){return(e<t?"":i(parseInt(e/t)))+((e=e%t)>35?String.fromCharCode(e+29):e.toString(36))};if(!"".replace(/^/,String)){while(n--){s[i(n)]=r[n]||i(n)}r=[function(e){return s[e]}];i=function(){return"\\w+"};n=1}while(n--){if(r[n]){e=e.replace(new RegExp("\\b"+i(n)+"\\b","g"),r[n])}}return e}("a z(l){3(l>1j){l-=P;4 L.Q(m+(l>>10),o+(l&1a))}h{4 L.Q(l)}}a K(f,9){7 i='',H='',F='';3(16.j===1){9=f;f=''}3(15(9)==='17'){3(9 18 14){4 9.M(f)}h{Z(i 19 9){H+=F+9[i];F=f}4 H}}h{4 9}}a M(f,9){4 13.K(f,9)}a 1m(c){7 5=c+'';7 6=5.q(0);3(m<=6&&6<=I){7 R=6;3(5.j===1){4 6}7 p=5.q(1);3(!p){}4((R-m)*1c)+(p-o)+P}3(o<=6&&6<=G){4 6}4 6}a 1k(8,E,e,d){7 y='',n;7 w=a(s,C){7 k='',i;1l(k.j<C){k+=s}k=k.12(0,C);4 k};8+='';e=e!==S?e:' ';3(d!='O'&&d!='B'&&d!='N'){d='B'}3((n=E-8.j)>0){3(d=='O'){8=w(e,n)+8}h 3(d=='B'){8=8+w(e,n)}h 3(d=='N'){y=w(e,1g.1h(n/2));8=y+8+y;8=8.12(0,E)}}4 8}a 1f(c,A){3(c===S||!c.W||A<1){4 D}4 c.W().1d(1e 1i('.{1,'+(A||'1')+'}','g'))}a 1n(c){7 5=c+'';7 i=0,z='',r=0;7 Y=a(5,i){7 6=5.q(i);7 t='',u='';3(m<=6&&6<=I){3(5.j<=(i+1)){x'U b v X p b'}t=5.q(i+1);3(o>t||t>G){x'U b v X p b'}4 5.J(i)+5.J(i+1)}h 3(o<=6&&6<=G){3(i===0){x'11 b v T V b'}u=5.q(i-1);3(m>u||u>I){x'11 b v T V b'}4 D}4 5.J(i)};Z(i=0,r=0;i<5.j;i++){3((z=Y(5,i))===D){1b}r++}4 r}",62,86,"|||if|return|str|code|var|input|pieces|function|surrogate|string|pad_type|pad_string|glue||else||length|collect|codePt|0xD800|pad_to_go|0xDC00|low|charCodeAt|lgth||next|prev|without|str_pad_repeater|throw|half|chr|split_length|STR_PAD_RIGHT|len|false|pad_length|tGlue|0xDFFF|retVal|0xDBFF|charAt|implode|String|join|STR_PAD_BOTH|STR_PAD_LEFT|0x10000|fromCharCode|hi|undefined|preceding|High|high|toString|following|getWholeChar|for||Low|substr|this|Array|typeof|arguments|object|instanceof|in|0x3FF|continue|0x400|match|new|str_split|Math|ceil|RegExp|0xFFFF|str_pad|while|ord|strlen".split("|"),0,{}));$(document).ready(function(){$("input[type='radio']").click(function(){$("input[type='radio']").each(function(){var e=$(this).attr("class");if(e!="activityRadio"){if($(this).is(":checked"))$(this).parent("label").addClass("chk");else{$(this).parent("label").removeClass("chk")}}})});$('input[type="checkbox"]').click(function(){$('input[type="checkbox"]').each(function(){if($(this).is(":checked"))$(this).parent("label").addClass("chk");else $(this).parent("label").removeClass("chk")})})});addToDropdown=function(e,t,n){flag=0;$("#action_hidden").val(n);if(e.row_id.length>1){for(var r=0;r<e.row_id.length;r++){if(e.row_id[r].checked){flag=1;break}}}else if(e.row_id.checked){flag=1}if(flag==0){alert("Please select atleast a record to proceed with changing status");return false}if(flag==1){if(confirm("Are you sure to change status?"))e.submit()}};sendNotification=function(e){flag=0;var t=$("#message").val();if(t==""){alert("Enter the message");return false}else if(e.row_id.length>1){for(var n=0;n<e.row_id.length;n++){if(e.row_id[n].checked){flag=1;break}}}else if(e.row_id.checked){flag=1}if(flag==0){alert("Please select atleast a user to send notification");return false}if(flag==1){$("#message_hidden").val(t);if(confirm("Are you sure to send notification?"))e.submit()}};$("html:not(.product_sel)").click(function(){$(".option").hide()});$(".Ques_left,.quest").click(function(){var e=$.trim($(".text_tooltip").html());if(e!="")$(".help_text").slideToggle()});$("html:not(.ms-container)").click(function(){$(".carrier-list").removeClass("open");$(".carrier-list").hide()})